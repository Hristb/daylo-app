const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DqIoBamY.js","assets/animation-ClZgCcJJ.js","assets/react-vendor-BAfStBEd.js","assets/icons-Dphy6HNr.js","assets/charts-BCRNSYNv.js","assets/firebase-DpXdI3fe.js","assets/Profile-Nv8WHI9d.js"])))=>i.map(i=>d[i]);
import{j as e,m as l,A as E}from"./animation-ClZgCcJJ.js";import{a as Pe,r as g,g as Fe,R as oe,N as qe,O as Me,H as Oe,b as Re,d as P,e as He}from"./react-vendor-BAfStBEd.js";import{H as J,P as Le,U as Ue,M as Be,B as We,a as Ve,D as Qe,b as le,c as Ge,X as K,C as ce,d as B,e as de,f as Je,S as F,g as ee,h as Ke,i as Ye,j as Xe,k as ue,l as Ze}from"./icons-Dphy6HNr.js";import{i as et,g as tt,c as me,q as xe,w as V,o as pe,a as he,d as M,b as ye,s as ge,T as Q}from"./firebase-DpXdI3fe.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var G={},te=Pe;G.createRoot=te.createRoot,G.hydrateRoot=te.hydrateRoot;const at="modulepreload",st=function(a){return"/daylo-app/"+a},ae={},Y=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(m=>{if(m=st(m),m in ae)return;ae[m]=!0;const f=m.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":at,f||(u.as="script"),u.crossOrigin="",u.href=m,d&&u.setAttribute("nonce",d),document.head.appendChild(u),f)return new Promise((c,y)=>{u.addEventListener("load",c),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return r.then(o=>{for(const d of o||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})},rt={},se=a=>{let t;const s=new Set,n=(x,u)=>{const c=typeof x=="function"?x(t):x;if(!Object.is(c,t)){const y=t;t=u??(typeof c!="object"||c===null)?c:Object.assign({},t,c),s.forEach(b=>b(t,y))}},r=()=>t,m={setState:n,getState:r,getInitialState:()=>f,subscribe:x=>(s.add(x),()=>s.delete(x)),destroy:()=>{(rt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},f=t=a(n,r,m);return m},nt=a=>a?se(a):se;var fe={exports:{}},be={},je={exports:{}},ve={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A=g;function it(a,t){return a===t&&(a!==0||1/a===1/t)||a!==a&&t!==t}var ot=typeof Object.is=="function"?Object.is:it,lt=A.useState,ct=A.useEffect,dt=A.useLayoutEffect,ut=A.useDebugValue;function mt(a,t){var s=t(),n=lt({inst:{value:s,getSnapshot:t}}),r=n[0].inst,i=n[1];return dt(function(){r.value=s,r.getSnapshot=t,W(r)&&i({inst:r})},[a,s,t]),ct(function(){return W(r)&&i({inst:r}),a(function(){W(r)&&i({inst:r})})},[a]),ut(s),s}function W(a){var t=a.getSnapshot;a=a.value;try{var s=t();return!ot(a,s)}catch{return!0}}function xt(a,t){return t()}var pt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xt:mt;ve.useSyncExternalStore=A.useSyncExternalStore!==void 0?A.useSyncExternalStore:pt;je.exports=ve;var ht=je.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=g,yt=ht;function gt(a,t){return a===t&&(a!==0||1/a===1/t)||a!==a&&t!==t}var ft=typeof Object.is=="function"?Object.is:gt,bt=yt.useSyncExternalStore,jt=O.useRef,vt=O.useEffect,Nt=O.useMemo,wt=O.useDebugValue;be.useSyncExternalStoreWithSelector=function(a,t,s,n,r){var i=jt(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Nt(function(){function m(y){if(!f){if(f=!0,x=y,y=n(y),r!==void 0&&o.hasValue){var b=o.value;if(r(b,y))return u=b}return u=y}if(b=u,ft(x,y))return b;var N=n(y);return r!==void 0&&r(b,N)?(x=y,b):(x=y,u=N)}var f=!1,x,u,c=s===void 0?null:s;return[function(){return m(t())},c===null?void 0:function(){return m(c())}]},[t,s,n,r]);var d=bt(a,i[0],i[1]);return vt(function(){o.hasValue=!0,o.value=d},[d]),wt(d),d};fe.exports=be;var St=fe.exports;const Et=Fe(St),Ne={},{useDebugValue:kt}=oe,{useSyncExternalStoreWithSelector:Ct}=Et;let re=!1;const Dt=a=>a;function Tt(a,t=Dt,s){(Ne?"production":void 0)!=="production"&&s&&!re&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),re=!0);const n=Ct(a.subscribe,a.getState,a.getServerState||a.getInitialState,t,s);return kt(n),n}const ne=a=>{(Ne?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof a=="function"?nt(a):a,s=(n,r)=>Tt(t,n,r);return Object.assign(s,t),s},It=a=>a?ne(a):ne,_=It((a,t)=>({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,isModalOpen:!1,hasCompletedCheckIn:!1,lastActiveDate:new Date().toISOString().split("T")[0],addActivity:s=>{a(n=>{const r=[...n.selectedActivities,s],i=r.reduce((o,d)=>o+d.duration,0);return{selectedActivities:r,totalMinutes:i,currentEntry:{...n.currentEntry,activities:r}}})},removeActivity:s=>{a(n=>{const r=n.selectedActivities.filter(o=>o.id!==s),i=r.reduce((o,d)=>o+d.duration,0);return{selectedActivities:r,totalMinutes:i,currentEntry:{...n.currentEntry,activities:r}}})},updateActivityDuration:(s,n)=>{a(r=>{const i=r.selectedActivities.map(d=>d.id===s?{...d,duration:n}:d),o=i.reduce((d,m)=>d+m.duration,0);return{selectedActivities:i,totalMinutes:o,currentEntry:{...r.currentEntry,activities:i}}})},updateActivityFacets:(s,n,r)=>{a(i=>{const o=i.selectedActivities.map(d=>d.id===s?{...d,facets:n,notes:r}:d);return{selectedActivities:o,currentEntry:{...i.currentEntry,activities:o}}})},updateActivityEnergy:(s,n)=>{a(r=>{const i=r.selectedActivities.map(o=>o.id===s?{...o,energyImpact:n}:o);return{selectedActivities:i,currentEntry:{...r.currentEntry,activities:i}}})},setReflection:s=>{a(n=>({currentEntry:{...n.currentEntry,reflection:{...n.currentEntry.reflection,...s}}}))},addTask:(s,n=!1,r=!1)=>{a(i=>{const o={id:Date.now().toString(),text:s,completed:!1,createdAt:new Date,isPriority:n,isPersonal:r},d=[...i.currentEntry.tasks||[],o];return{currentEntry:{...i.currentEntry,tasks:d}}})},toggleTask:s=>{a(n=>{const r=(n.currentEntry.tasks||[]).map(i=>i.id===s?{...i,completed:!i.completed}:i);return{currentEntry:{...n.currentEntry,tasks:r}}})},removeTask:s=>{a(n=>{const r=(n.currentEntry.tasks||[]).filter(i=>i.id!==s);return{currentEntry:{...n.currentEntry,tasks:r}}})},setEmotionalCheckIn:s=>{a(n=>({currentEntry:{...n.currentEntry,emotionalCheckIn:s}}))},setDayIntention:s=>{a(n=>({currentEntry:{...n.currentEntry,dayIntention:s}}))},setDayStory:s=>{a(n=>({currentEntry:{...n.currentEntry,dayStory:s}}))},completeCheckIn:()=>{a({hasCompletedCheckIn:!0});const s=new Date().toISOString().split("T")[0];localStorage.setItem("daylo-last-checkin",s)},setDiaryNote:s=>{a(n=>({currentEntry:{...n.currentEntry,diaryNote:s}}))},saveEntry:()=>{const n={...t().currentEntry,id:Date.now().toString(),date:new Date},r=JSON.parse(localStorage.getItem("daylo-entries")||"[]");r.push(n),localStorage.setItem("daylo-entries",JSON.stringify(r)),t().resetEntry()},resetEntry:()=>{const s=new Date().toISOString().split("T")[0];a({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,hasCompletedCheckIn:!1,lastActiveDate:s}),localStorage.removeItem("daylo-last-checkin")},checkAndResetIfNewDay:()=>{const s=t(),n=new Date().toISOString().split("T")[0];return(s.lastActiveDate||n)!==n?(console.log("ğŸŒ… Nuevo dÃ­a detectado - reseteando datos"),t().resetEntry(),!0):!1},autoSave:async()=>{const s=t(),n=new Date().toISOString().split("T")[0];a({lastActiveDate:n});const r={id:s.currentEntry.id||Date.now().toString(),date:new Date,activities:s.selectedActivities,tasks:s.currentEntry.tasks||[],diaryNote:s.currentEntry.diaryNote||"",emotionalCheckIn:s.currentEntry.emotionalCheckIn,dayIntention:s.currentEntry.dayIntention,dayStory:s.currentEntry.dayStory,reflection:s.currentEntry.reflection},i=JSON.parse(localStorage.getItem("daylo-entries")||"[]"),o=i.findIndex(d=>new Date(d.date).toISOString().split("T")[0]===n);o>=0?i[o]=r:i.push(r),localStorage.setItem("daylo-entries",JSON.stringify(i));try{const{saveDailyEntry:d}=await Y(async()=>{const{saveDailyEntry:m}=await Promise.resolve().then(()=>Kt);return{saveDailyEntry:m}},void 0);await d(r),console.log("âœ… Auto-guardado en Firebase exitoso")}catch(d){console.error("âš ï¸ Error auto-guardando en Firebase (datos seguros en local):",d)}},setModalOpen:s=>{a({isModalOpen:s})}})),At=[{id:"work",label:"Productividad",color:"#C4E5FF",defaultDuration:360},{id:"study",label:"Estudio",color:"#E8D4FF",defaultDuration:240},{id:"home",label:"Hogar",color:"#FFD4E5",defaultDuration:180},{id:"exercise",label:"Ejercicio",color:"#D4FFE5",defaultDuration:60},{id:"social",label:"Social",color:"#FFE5D4",defaultDuration:120},{id:"hobbies",label:"Hobbies",color:"#FFF4D4",defaultDuration:90},{id:"food",label:"Comida",color:"#FFE5D4",defaultDuration:90},{id:"sleep",label:"Descanso",color:"#E8D4FF",defaultDuration:480},{id:"health",label:"Salud",color:"#D4FFE5",defaultDuration:60}],_t={work:[{id:"progress",label:"Â¿Avanzaste en algo importante?",type:"boolean",emoji:"â­"},{id:"control",label:"Â¿Te sentiste en control?",type:"boolean",emoji:"ğŸ®"},{id:"work_value",label:"Â¿Valor de lo realizado?",type:"rating",emoji:"ğŸ’"}],study:[{id:"learned_new",label:"Â¿Aprendiste algo nuevo?",type:"boolean",emoji:"ğŸ’¡"},{id:"can_explain",label:"Â¿PodrÃ­as explicarlo?",type:"boolean",emoji:"ğŸ—£ï¸"},{id:"usefulness",label:"Â¿QuÃ© tan Ãºtil fue?",type:"rating",emoji:"ğŸ¯"}],home:[{id:"space_better",label:"Â¿Tu espacio estÃ¡ mejor?",type:"boolean",emoji:"ğŸ¡"},{id:"did_necessary",label:"Â¿Hiciste lo necesario?",type:"boolean",emoji:"âœ”ï¸"},{id:"how_feel",label:"Â¿CÃ³mo te sientes ahora?",type:"rating",emoji:"ğŸ’­"}],exercise:[{id:"healthy_challenge",label:"Â¿Te desafiaste sanamente?",type:"boolean",emoji:"ğŸ¯"},{id:"pain_discomfort",label:"Â¿Dolor o molestia?",type:"boolean",emoji:"ğŸ©¹"},{id:"enjoyed",label:"Â¿Disfrutaste la actividad?",type:"boolean",emoji:"ğŸ‰"}],social:[{id:"authentic",label:"Â¿ConversaciÃ³n autÃ©ntica?",type:"boolean",emoji:"ğŸ’¬"},{id:"emotional_impact",label:"Â¿Impacto emocional?",type:"rating",emoji:"â¤ï¸"},{id:"added_value",label:"Â¿AgregÃ³ valor a tu dÃ­a?",type:"boolean",emoji:"âœ¨"}],hobbies:[{id:"lost_track_time",label:"Â¿Perdiste nociÃ³n del tiempo?",type:"boolean",emoji:"â°"},{id:"enjoyed_process",label:"Â¿Disfrutaste el proceso?",type:"boolean",emoji:"ğŸ˜Š"},{id:"recharged",label:"Â¿Te recargÃ³ energÃ­a?",type:"boolean",emoji:"âš¡"}],food:[{id:"nourished_well",label:"Â¿Te nutriste bien?",type:"boolean",emoji:"ğŸ¥—"},{id:"taste_quality",label:"Â¿Sabor y presentaciÃ³n?",type:"rating",emoji:"ğŸ˜‹"},{id:"listened_body",label:"Â¿Escuchaste tu cuerpo?",type:"boolean",emoji:"ğŸ’š"}],sleep:[{id:"hours_amount",label:"Â¿Cantidad de horas?",type:"rating",emoji:"â±ï¸"},{id:"slept_deeply",label:"Â¿Dormiste profundamente?",type:"boolean",emoji:"ğŸ’¤"},{id:"ready_for_day",label:"Â¿Listo para el dÃ­a?",type:"boolean",emoji:"â˜€ï¸"}],health:[{id:"physical_feeling",label:"Â¿CÃ³mo te sientes fÃ­sicamente?",type:"rating",emoji:"ğŸ’ª"},{id:"health_stable",label:"Â¿Tu salud estÃ¡ estable?",type:"boolean",emoji:"ğŸ“Š"},{id:"did_something",label:"Â¿Hiciste algo por tu salud?",type:"boolean",emoji:"ğŸŒ±"}]},$t=a=>{const s=[..._t[a]||[]];for(let n=s.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[s[n],s[r]]=[s[r],s[n]]}return s},q=a=>{const t=Math.floor(a/60),s=a%60;return t===0?`${s}m`:s===0?`${t}h`:`${t}h ${s}m`},zt={work:Ge,home:le,exercise:Qe,social:Ve,study:We,sleep:Be,food:Ue,hobbies:Le,health:J};function Pt({type:a,size:t=32,animate:s=!1,color:n="#667085"}){const r=zt[a];return e.jsx(l.div,{initial:s?{scale:0,rotate:-180}:{},animate:s?{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20}}:{},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},children:e.jsx(r,{size:t,color:n,strokeWidth:2.5})})}function Ft({activity:a,isSelected:t,onToggle:s}){const[n,r]=g.useState(!1);return e.jsxs(l.button,{onClick:s,onTapStart:()=>r(!0),onTap:()=>r(!1),onTapCancel:()=>r(!1),className:`daylo-icon-card w-full aspect-square ${t?"selected":""}`,style:{backgroundColor:t?a.color:`${a.color}40`,borderColor:a.color},whileHover:{scale:1.05},whileTap:{scale:.95},animate:t?{boxShadow:[`0 0 0 0 ${a.color}40`,`0 0 0 8px ${a.color}00`]}:{},transition:{duration:.3},children:[e.jsx(l.div,{animate:t?{scale:[1,1.2,1],rotate:[0,10,-10,0]}:{},transition:{duration:.5},children:e.jsx(Pt,{type:a.id,size:40,animate:n,color:t?"#374151":"#6B7280"})}),e.jsx("span",{className:"text-sm font-semibold mt-2 text-gray-700",children:a.label}),t&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg",children:"âœ“"})]})}function qt({label:a,value:t,onChange:s,min:n=0,max:r=720,step:i=15,color:o="#C4E5FF",icon:d}){const[m,f]=g.useState(!1),x=(t-n)/(r-n)*100;return e.jsxs(l.div,{className:"w-full space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[d&&e.jsx("div",{className:"text-gray-600",children:d}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:a})]}),e.jsx(l.span,{className:"text-xl font-black text-gray-800",animate:m?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:q(t)})]}),e.jsxs("div",{className:"relative h-3 bg-gray-200 rounded-full overflow-hidden",children:[e.jsx(l.div,{className:"absolute h-full rounded-full",style:{width:`${x}%`,backgroundColor:o},initial:!1,animate:{width:`${x}%`},transition:{type:"spring",stiffness:300,damping:30}}),e.jsx("input",{type:"range",min:n,max:r,step:i,value:t,onChange:u=>s(Number(u.target.value)),onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),className:"absolute w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx(l.div,{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 rounded-full shadow-lg pointer-events-none z-20",style:{left:`${x}%`,backgroundColor:o,transform:`translate(-50%, -50%) scale(${m?1.3:1})`},animate:{boxShadow:m?`0 0 0 8px ${o}40`:`0 0 0 0px ${o}00`},transition:{duration:.2}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 px-1",children:[e.jsx("span",{children:q(n)}),e.jsx("span",{children:q(r/2)}),e.jsx("span",{children:q(r)})]})]})}function Mt({isOpen:a,onClose:t,children:s,color:n,title:r}){return e.jsx(E,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40"}),e.jsx(l.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-x-0 bottom-0 z-50 flex flex-col max-h-[85vh]",children:e.jsxs("div",{className:"bg-white rounded-t-3xl shadow-2xl flex flex-col overflow-hidden",style:{borderTopColor:n,borderTopWidth:"4px",height:"100%"},children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),e.jsxs("div",{className:"flex items-center justify-between px-6 pb-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r}),e.jsx(l.button,{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(K,{size:24,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1 pb-32 overscroll-contain",children:s})]})})]})})}function Ot({emoji:a,label:t,value:s,onChange:n,color:r}){const i=[1,2,3,4,5];return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:a}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:t})]}),e.jsx("div",{className:"flex justify-between gap-2",children:i.map(o=>e.jsx(l.button,{onClick:()=>n(o),className:`w-full py-3 rounded-xl font-bold text-lg transition-all ${s===o?"shadow-lg scale-105":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,style:{backgroundColor:s===o?r:void 0,color:s===o?"#374151":void 0},whileHover:{scale:s===o?1.05:1.02},whileTap:{scale:.95},children:o},o))}),e.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Bajo"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Alto"})]})]})}function Rt({emoji:a,label:t,value:s,onChange:n,color:r}){return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:a}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:t})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(l.button,{onClick:()=>n(!0),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${s===!0?"shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,style:{backgroundColor:s===!0?r:void 0,color:s===!0?"#374151":void 0},whileHover:{scale:s===!0?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(ce,{size:20,strokeWidth:3}),"SÃ­"]}),e.jsxs(l.button,{onClick:()=>n(!1),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${s===!1?"bg-gray-300 text-gray-700 shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,whileHover:{scale:s===!1?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(K,{size:20,strokeWidth:3}),"No"]})]})]})}function Ht({timeContext:a}){const[t,s]=g.useState(""),[n,r]=g.useState(""),{currentEntry:i,addTask:o,toggleTask:d,removeTask:m,autoSave:f}=_(),x=i.tasks||[],u=x.filter(h=>h.isPriority&&!h.isPersonal),c=x.find(h=>h.isPersonal),y=x.filter(h=>!h.isPriority&&!h.isPersonal),b=h=>{if(h.preventDefault(),t.trim()){const H=u.length<3&&a==="morning";o(t.trim(),H,!1),s(""),setTimeout(()=>f(),300)}},N=h=>{h.preventDefault(),n.trim()&&!c&&(o(n.trim(),!1,!0),r(""),setTimeout(()=>f(),300))},S=x.filter(h=>h.completed).length,j=x.length>0?S/x.length*100:0,C=a==="morning"?{title:"âœ¨ Â¿QuÃ© quieres lograr hoy?",subtitle:"Planifica tus intenciones para el dÃ­a",placeholder:"Ej: Terminar reporte, hacer ejercicio..."}:a==="afternoon"?x.length===0?{title:"ğŸ“‹ Â¿QuÃ© hiciste hoy?",subtitle:"Registra las cosas que realizaste",placeholder:"Ej: ReuniÃ³n con equipo, almorzar con amigos..."}:{title:"ğŸ¯ Â¿QuÃ© lograste hoy?",subtitle:"Marca lo que ya completaste",placeholder:"Ej: CompletÃ© el proyecto..."}:{title:"ğŸ“ Resumen de tu dÃ­a",subtitle:"Revisa lo que lograste",placeholder:"Ej: DÃ­a productivo..."},D=u.length<3,T=h=>e.jsxs(l.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,x:-100},className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${h.completed?"bg-green-50 border-green-200":h.isPriority?"bg-purple-50 border-purple-200 hover:border-purple-300":h.isPersonal?"bg-pink-50 border-pink-200 hover:border-pink-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}`,children:[e.jsx("button",{onClick:()=>{d(h.id),setTimeout(()=>f(),300)},className:`flex-shrink-0 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all ${h.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-purple-400"}`,children:h.completed&&e.jsx(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:e.jsx(ce,{className:"w-4 h-4 text-white",strokeWidth:3})})}),e.jsx("span",{className:`flex-1 text-sm ${h.completed?"line-through text-gray-400":"text-gray-700 font-medium"}`,children:h.text}),e.jsx("button",{onClick:()=>{m(h.id),setTimeout(()=>f(),300)},className:"flex-shrink-0 w-6 h-6 rounded-lg hover:bg-red-100 flex items-center justify-center text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(K,{className:"w-4 h-4"})})]},h.id);return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6",children:[a==="morning"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ¯ MÃ¡ximo 3 prioridades"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Menos es mÃ¡s. EnfÃ³cate en lo que realmente importa"})]}),u.length>=3&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-lg font-medium",children:"Completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{mode:"popLayout",children:u.map(T)}),u.length===0&&e.jsx("div",{className:"text-center py-6 border-2 border-dashed border-purple-200 rounded-xl bg-purple-50/30",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© 3 cosas moverÃ­an la aguja hoy?"})})]}),D&&e.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:h=>s(h.target.value),placeholder:`Prioridad ${u.length+1}...`,className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm bg-purple-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!t.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5"})})]}),!D&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 bg-purple-50 rounded-xl border border-purple-200",children:e.jsx("p",{className:"text-xs text-purple-700 text-center",children:"âœ¨ Perfecto. MÃ¡s de 3 prioridades reduce tu probabilidad de completarlas en 50%"})})]}),a==="morning"&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ’š 1 AcciÃ³n para ti"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:'Algo que cuide tu bienestar, aunque "no sea productivo"'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{mode:"popLayout",children:c&&T(c)}),!c&&e.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-pink-200 rounded-xl bg-pink-50/30",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© te harÃ­a bien hoy?"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caminar, descansar, llamar a alguien..."})]})]}),!c&&e.jsxs("form",{onSubmit:N,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Ej: Caminar 10 min, desconectar...",className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent text-sm bg-pink-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!n.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5"})})]})]}),(a!=="morning"||y.length>0)&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:C.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:C.subtitle})]}),x.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[S,"/",x.length]})]}),x.length>0&&e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx(l.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-400 to-pink-400"})}),e.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[e.jsx(E,{mode:"popLayout",children:a==="morning"?y.map(T):x.map(T)}),x.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"AÃºn no hay tareas"}),e.jsx("p",{className:"text-xs mt-1",children:a==="morning"?"Â¡Comienza a planificar tu dÃ­a!":"Â¿QuÃ© hiciste hoy?"})]})]}),a!=="morning"&&e.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:h=>s(h.target.value),placeholder:C.placeholder,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100}),e.jsx("button",{type:"submit",disabled:!t.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5"})})]})]}),x.length>0&&S===x.length&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:e.jsx("p",{className:"text-sm text-green-700 font-medium text-center",children:"ğŸ‰ Â¡Completaste todas tus tareas! Â¡Excelente trabajo!"})})]})}function Lt({timeContext:a}){const{currentEntry:t,setDiaryNote:s,autoSave:n}=_(),r=t.diaryNote||"",[i,o]=g.useState(!1);g.useEffect(()=>{if(r){const u=setTimeout(()=>{n()},1e3);return()=>clearTimeout(u)}},[r,n]);const m=a==="morning"?{title:"ğŸ“ Notas para hoy",placeholder:`Anota lo que quieras: ideas, intenciones, cÃ³mo te sientes, recordatorios...

Este es tu espacio libre para escribir lo que necesites.`,emoji:"âœ¨"}:a==="afternoon"?{title:"ğŸ“ Notas del dÃ­a",placeholder:`Escribe lo que quieras: pensamientos, ideas, algo que pasÃ³, cÃ³mo te sientes...

Sin lÃ­mites, sin filtros. Tu espacio personal.`,emoji:"ğŸ’­"}:{title:"ğŸ“ Notas del dÃ­a",placeholder:`AquÃ­ puedes escribir lo que quieras: reflexiones, versos, ideas sueltas, lo que viviste...

Tu espacio seguro para expresarte.`,emoji:"ğŸ“–"},f=r.length,x=1e3;return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border-2 border-purple-200 overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>o(!i),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:m.title}),e.jsx("p",{className:"text-sm text-purple-600",children:r?`${r.split(/\s+/).filter(u=>u.length>0).length} palabras escritas`:"Tu espacio personal"})]})]}),e.jsx(l.div,{animate:{rotate:i?180:0},transition:{duration:.3},children:e.jsx(Je,{className:"w-6 h-6 text-purple-500"})})]}),e.jsx(E,{children:i&&e.jsx(l.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t-2 border-purple-100",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[!r&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 p-3 bg-white/80 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-purple-700",children:[a==="morning"&&"Comenzar el dÃ­a escribiendo tus pensamientos te ayuda a tener claridad mental",a==="afternoon"&&"Tomarte un momento para reflexionar puede cambiar el rumbo de tu dÃ­a",a==="evening"&&"Escribir antes de dormir te ayuda a procesar el dÃ­a y descansar mejor"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:m.placeholder,maxLength:x,className:"w-full h-56 p-4 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm text-gray-700 placeholder:text-gray-400 bg-white",style:{lineHeight:"1.6"}}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400 bg-white px-2 py-1 rounded-lg",children:[f,"/",x]})]}),r&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 flex justify-between text-xs text-purple-600 px-2",children:[e.jsxs("span",{children:[r.split(/\s+/).filter(u=>u.length>0).length," palabras"]}),e.jsxs("span",{children:[r.split(`
`).length," lÃ­neas"]})]})]})})})]})}const ie=[{emoji:"ğŸ˜Š",label:"Bien",color:"#D4FFE5"},{emoji:"ğŸ˜°",label:"Ansioso/a",color:"#FFE5D4"},{emoji:"ğŸ˜´",label:"Cansado/a",color:"#E8D4FF"},{emoji:"ğŸ˜¤",label:"Abrumado/a",color:"#FFD4E5"},{emoji:"ğŸ¤—",label:"Motivado/a",color:"#FFF4D4"},{emoji:"ğŸ˜",label:"Neutral",color:"#E8E8E8"}];function Ut({onComplete:a}){var S;const{setEmotionalCheckIn:t,setDayIntention:s}=_(),[n,r]=g.useState(1),[i,o]=g.useState(""),[d,m]=g.useState(""),[f,x]=g.useState(""),[u,c]=g.useState(""),y=()=>{n===1&&i?(t({feeling:i,mentalNoise:d||void 0,needsToday:f||void 0}),r(2)):n===2&&u&&(s(u),a())},b=i!=="",N=u.trim()!=="";return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-purple-100/90 to-pink-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(l.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(J,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n===1?"â˜€ï¸ Antes de empezar...":"ğŸ¯ Tu intenciÃ³n de hoy"}),e.jsxs("p",{className:"text-xs text-purple-600",children:["Paso ",n," de 2"]})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(E,{mode:"wait",children:[n===1&&e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Tomarte un momento para reconocer cÃ³mo te sientes te ayuda a regular tus emociones antes de actuar"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"ğŸ’­ Â¿CÃ³mo te sientes ahora mismo?"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:ie.map(j=>e.jsxs(l.button,{onClick:()=>o(j.label),className:`p-3 rounded-xl border-2 transition-all ${i===j.label?"border-purple-400 shadow-md scale-105":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:i===j.label?j.color:"white"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("div",{className:"text-2xl mb-1",children:j.emoji}),e.jsx("div",{className:"text-xs font-medium text-gray-700",children:j.label})]},j.label))})]}),i&&e.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸ’­ Â¿Hay algo que te preocupa? ",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("textarea",{value:d,onChange:j=>m(j.target.value),placeholder:"Ej: El proyecto, una decisiÃ³n pendiente, algo que no puedo dejar de pensar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:2})]}),i&&e.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{delay:.1},className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:"ğŸ’š Â¿QuÃ© necesitas hoy para estar bien?"}),e.jsx("input",{type:"text",value:f,onChange:j=>x(j.target.value),placeholder:"Ej: Calma, tiempo para mÃ­, desconectar, energÃ­a...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm"})]})]},"step1"),n===2&&e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Te sientes:"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[(S=ie.find(j=>j.label===i))==null?void 0:S.emoji," ",i]}),f&&e.jsxs("p",{className:"text-sm text-purple-700 mt-2",children:["ğŸ’š Necesitas: ",f]})]}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Una intenciÃ³n clara cambia cÃ³mo vives todo el dÃ­a. No es una tarea, es tu brÃºjula."})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"âœ¨ Â¿CuÃ¡l es tu intenciÃ³n para hoy?"}),e.jsx("textarea",{value:u,onChange:j=>c(j.target.value),placeholder:"Ej: Hoy quiero avanzar con calma\\nHoy quiero cuidar mi energÃ­a\\nHoy quiero estar presente...",className:"w-full p-4 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:4,autoFocus:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:'ğŸ’¡ No es "quÃ© tienes que hacer", sino "cÃ³mo quieres sentirte" o "quÃ© quieres lograr"'})]})]},"step2")]})})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[n===2&&e.jsx(l.button,{onClick:()=>r(1),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"AtrÃ¡s"}),e.jsx(l.button,{onClick:y,disabled:n===1?!b:!N,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${(n===1?b:N)?"bg-gradient-to-r from-purple-400 to-pink-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:(n===1?b:N)?{scale:1.02}:{},whileTap:(n===1?b:N)?{scale:.98}:{},children:n===1?"Continuar":"Comenzar mi dÃ­a âœ¨"})]})})]})})}function Bt({onComplete:a}){const{setDayStory:t}=_(),[s,n]=g.useState(""),[r,i]=g.useState(""),[o,d]=g.useState(""),m=()=>{t({howStarted:s,mostSignificant:r,howClosing:o}),a()},f=r.trim()!=="";return e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-indigo-100/90 to-purple-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(l.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-purple-400 rounded-xl flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"ğŸŒ™ Cuenta tu dÃ­a"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Cierre narrativo"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Convertir tu dÃ­a en una historia te ayuda a procesar experiencias y consolidar recuerdos con significado emocional"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ… Â¿CÃ³mo comenzÃ³ tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:s,onChange:x=>n(x.target.value),placeholder:"Ej: DespertÃ© sin energÃ­a, pero con ganas de avanzar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:150})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["âš¡ Â¿QuÃ© fue lo mÃ¡s significativo hoy?",e.jsx("span",{className:"text-xs text-purple-600",children:"(requerido)"})]}),e.jsx("textarea",{value:r,onChange:x=>i(x.target.value),placeholder:"Ej: Una conversaciÃ³n me hizo reflexionar sobre...\\nLogrÃ© terminar algo que venÃ­a posponiendo...\\nMe di cuenta de que necesito...",className:"w-full p-3 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm resize-none",rows:4,maxLength:300}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.length,"/300 caracteres"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ™ Â¿Con quÃ© sensaciÃ³n cierras tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:o,onChange:x=>d(x.target.value),placeholder:"Ej: Tranquilo, Agradecido, Cansado pero satisfecho...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100})]}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl border border-pink-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-pink-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"ğŸ’­ ReflexiÃ³n final (opcional)"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Â¿QuÃ© agradeces de hoy aunque haya sido difÃ­cil?",e.jsx("br",{}),"Â¿QuÃ© aprendiste que no sabÃ­as ayer?"]})]})]})})]})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(l.button,{onClick:()=>a(),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Saltar"}),e.jsx(l.button,{onClick:m,disabled:!f,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${f?"bg-gradient-to-r from-indigo-400 to-purple-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:f?{scale:1.02}:{},whileTap:f?{scale:.98}:{},children:"Cerrar mi dÃ­a ğŸŒ™"})]})})]})})}const Wt={apiKey:"AIzaSyCVIY7zq53TwD_GdNZqJvIKQr-yLsfSCjw",authDomain:"daylo-app-89843.firebaseapp.com",projectId:"daylo-app-89843",storageBucket:"daylo-app-89843.firebasestorage.app",messagingSenderId:"289095124470",appId:"1:289095124470:web:a6c73903a36d0dfb8ff3d7"},Vt=et(Wt),$=tt(Vt),R=()=>localStorage.getItem("daylo-user-email")||"anonymous",we=async a=>{try{const t=M($,"users",a),s=await ye(t);if(s.exists()){const n=s.data();return{name:n.name,email:n.email}}return null}catch(t){return console.error("âŒ Error verificando usuario:",t),null}},Se=async(a,t)=>{try{const s=M($,"users",t);await ge(s,{name:a,email:t,createdAt:Q.now(),updatedAt:Q.now()},{merge:!0}),console.log("âœ… Usuario guardado en Firebase:",t)}catch(s){throw console.error("âŒ Error guardando usuario:",s),s}},Qt=async a=>{try{const t=R(),s=new Date().toISOString().split("T")[0],n=`${t}_${s}`,r={...a,userEmail:t,date:a.date||new Date().toISOString(),updatedAt:Q.now()};await ge(M($,"dailyEntries",n),r,{merge:!0}),console.log("âœ… Entrada guardada en Firebase:",n)}catch(t){throw console.error("âŒ Error guardando en Firebase:",t),t}},Ee=async()=>{try{const a=R(),t=new Date().toISOString().split("T")[0],s=`${a}_${t}`,n=M($,"dailyEntries",s),r=await ye(n);return r.exists()?r.data():null}catch(a){return console.error("âŒ Error obteniendo entrada de hoy:",a),null}},Gt=async()=>{try{const a=R(),t=me($,"dailyEntries"),s=xe(t,V("userEmail","==",a),pe("date","desc")),n=await he(s),r=[];return n.forEach(i=>{r.push(i.data())}),console.log(`âœ… ${r.length} entradas cargadas desde Firebase`),r}catch(a){return console.error("âŒ Error obteniendo entradas:",a),[]}},Jt=async(a=7)=>{try{const t=R(),s=new Date;s.setDate(s.getDate()-a);const n=me($,"dailyEntries"),r=xe(n,V("userEmail","==",t),V("date",">=",s.toISOString()),pe("date","desc")),i=await he(r),o=[];return i.forEach(d=>{o.push(d.data())}),o}catch(t){return console.error("âŒ Error obteniendo entradas recientes:",t),[]}},Kt=Object.freeze(Object.defineProperty({__proto__:null,createOrUpdateUser:Se,getAllUserEntries:Gt,getRecentEntries:Jt,getTodayEntry:Ee,getUserByEmail:we,saveDailyEntry:Qt},Symbol.toStringTag,{value:"Module"}));function Yt(){const a=new Date().getHours();return a>=5&&a<12?"morning":a>=12&&a<19?"afternoon":"evening"}function Xt(){const{selectedActivities:a,totalMinutes:t,currentEntry:s,hasCompletedCheckIn:n,addActivity:r,removeActivity:i,updateActivityDuration:o,updateActivityFacets:d,setModalOpen:m,completeCheckIn:f,checkAndResetIfNewDay:x,autoSave:u}=_(),[c,y]=g.useState(null),[b,N]=g.useState({}),[S,j]=g.useState(0),[z,C]=g.useState(""),[D,T]=g.useState("synced"),[h]=g.useState(Yt()),[H,ke]=g.useState([]),[Ce,X]=g.useState(!1),[De,L]=g.useState(!1),[Te,U]=g.useState(!1);g.useEffect(()=>{(async()=>{if(x())console.log("âœ¨ Inicio de nuevo dÃ­a - datos reseteados");else try{const k=await Ee();k&&k.activities&&k.activities.forEach(ze=>{r(ze)})}catch(k){console.error("Error cargando datos de hoy:",k)}})();const v=new Date().toISOString().split("T")[0],w=localStorage.getItem("daylo-last-checkin");h==="morning"&&!n&&w!==v&&setTimeout(()=>{X(!0),m(!0)},1e3)},[]);const Ie=p=>{const v=a.find(I=>I.icon===p.id),w=$t(p.id);ke(w),v?(y(p),N(v.facets||{}),j(v.duration),C(v.notes||"")):(y(p),N({}),j(p.defaultDuration),C("")),m(!0)},Ae=()=>{if(!c)return;const p=a.find(k=>k.icon===c.id),v=1440;let w=t;if(p?w=t-p.duration+S:w=t+S,w>v){y(null),m(!1),N({}),C(""),setTimeout(()=>{U(!0)},100);return}p?(o(p.id,S),d(p.id,b,z)):r({id:Date.now().toString(),icon:c.id,label:c.label,duration:S,color:c.color,facets:b,notes:z}),setTimeout(()=>{u(),T("synced")},300),y(null),m(!1),N({}),C("")},_e=()=>{if(!c)return;const p=a.find(v=>v.icon===c.id);p&&(i(p.id),setTimeout(()=>{u()},200)),y(null),m(!1)},$e=H,Z=h==="morning"?{title:"ğŸŒ… Â¡Buenos dÃ­as!",subtitle:"Comienza tu dÃ­a con intenciÃ³n"}:h==="afternoon"?{title:"â˜€ï¸ Â¿CÃ³mo va tu dÃ­a?",subtitle:"Registra lo que has vivido"}:{title:"ğŸŒ™ Reflexiona sobre tu dÃ­a",subtitle:"Un momento para cerrar el dÃ­a conscientemente"};return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"daylo-card text-center",children:[e.jsx(l.h2,{className:"text-2xl font-bold text-gray-800 mb-2",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:Z.title}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center justify-center gap-2",children:[Z.subtitle,D==="synced"&&e.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-xs",children:[e.jsx(ee,{size:14})," Sincronizado"]}),D==="syncing"&&e.jsxs(l.span,{className:"text-blue-600 flex items-center gap-1 text-xs",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:[e.jsx(ee,{size:14})," Guardando..."]}),D==="offline"&&e.jsxs("span",{className:"text-orange-600 flex items-center gap-1 text-xs",children:[e.jsx(Ke,{size:14})," Sin conexiÃ³n"]})]})]}),e.jsx(E,{children:Ce&&e.jsx(Ut,{onComplete:()=>{X(!1),m(!1),f(),u()}})}),e.jsx(E,{children:De&&e.jsx(Bt,{onComplete:()=>{L(!1),m(!1),u()}})}),e.jsx(E,{children:Te&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",onClick:()=>U(!1),children:e.jsxs(l.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:p=>p.stopPropagation(),className:"bg-white rounded-3xl p-6 shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(l.div,{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-red-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:e.jsx(Ye,{className:"w-10 h-10 text-orange-600",strokeWidth:2.5})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"â° Superaste las 24 horas"}),e.jsxs("p",{className:"text-sm text-gray-600 text-center mb-2",children:["Has registrado ",e.jsxs("span",{className:"font-semibold text-orange-600",children:[Math.round(t/60),"h ",t%60,"min"]})," en total."]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mb-6",children:"Un dÃ­a tiene 24 horas. Ajusta la duraciÃ³n de tus actividades o elimina alguna para continuar."}),e.jsx(l.button,{onClick:()=>{U(!1),y(null),m(!1)},className:"w-full py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"âœ“ Entendido"})]})})}),s.dayIntention&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Tu intenciÃ³n de hoy"}),e.jsx("p",{className:"text-sm text-gray-800",children:s.dayIntention})]})]})}),h==="evening"&&a.length===0&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-5 border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’š"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:"No pasa nada si hoy no registraste actividades"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Los dÃ­as de descanso tambiÃ©n cuentan. Â¿QuÃ© SÃ hiciste hoy, aunque parezca pequeÃ±o?"})]})]})}),(()=>{var k;const p=new Date().getHours(),v=p>=20&&p<23,w=a.length>0,I=!((k=s.dayStory)!=null&&k.mostSignificant);return h==="evening"&&v&&w&&I?e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 rounded-2xl p-5 border-2 border-indigo-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(l.span,{className:"text-3xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:"ğŸŒ™"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Â¿Tomas un momento para cerrar tu dÃ­a?"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Reflexionar antes de dormir te ayuda a procesar lo vivido y descansar mejor"}),e.jsx(l.button,{onClick:()=>{L(!0),m(!0)},className:"w-full py-3 bg-gradient-to-r from-indigo-400 to-purple-400 text-white rounded-xl font-semibold shadow-md hover:shadow-lg transition-all text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"âœ¨ SÃ­, cerrar mi dÃ­a ahora"})]})]})}):h==="evening"&&w&&I&&!v?e.jsx(l.button,{onClick:()=>{L(!0),m(!0)},className:"w-full py-4 bg-gradient-to-r from-indigo-400 to-purple-400 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"ğŸŒ™ Cerrar mi dÃ­a con reflexiÃ³n"}):null})(),e.jsx(Ht,{timeContext:h}),e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"daylo-card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(F,{size:20,className:"text-pastel-purple"}),"Â¿QuÃ© hiciste hoy?"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:At.map((p,v)=>e.jsx(l.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:v*.05},children:e.jsx(Ft,{activity:p,isSelected:a.some(w=>w.icon===p.id),onToggle:()=>Ie(p)})},p.id))}),a.length>0&&e.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-semibold text-gray-600",children:[a.length," ",a.length===1?"actividad":"actividades"]}),e.jsxs("span",{className:`text-xl font-bold ${t>1440?"text-red-600":t>1200?"text-orange-600":"text-purple-600"}`,children:[Math.floor(t/60),"h ",t%60,"m"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l.div,{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center",animate:{rotate:[0,360]},transition:{duration:60,repeat:1/0,ease:"linear"},children:e.jsx("span",{className:"text-sm",children:"â°"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Tiempo registrado"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[Math.floor(t/60),"h ",t%60,"min de tu dÃ­a"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Disponible"}),e.jsx("p",{className:`text-sm font-semibold ${t>1440?"text-red-600":"text-green-600"}`,children:t>1440?`-${Math.floor((t-1440)/60)}h ${(t-1440)%60}m`:`${Math.floor((1440-t)/60)}h ${(1440-t)%60}m`})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1 px-1",children:[e.jsx("span",{children:"ğŸŒ… 6am"}),e.jsx("span",{children:"â˜€ï¸ 12pm"}),e.jsx("span",{children:"ğŸŒ† 6pm"}),e.jsx("span",{children:"ğŸŒ™ 12am"})]}),e.jsxs("div",{className:"relative w-full bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 rounded-full h-4 overflow-hidden shadow-inner",children:[e.jsx(l.div,{initial:{width:0},animate:{width:`${Math.min(t/1440*100,100)}%`},className:`h-full rounded-full relative ${t>1440?"bg-gradient-to-r from-red-400 via-orange-500 to-red-600":t>1200?"bg-gradient-to-r from-orange-300 via-yellow-400 to-orange-500":t>960?"bg-gradient-to-r from-yellow-300 via-green-400 to-green-500":"bg-gradient-to-r from-green-300 via-teal-400 to-blue-400"}`,transition:{duration:.8,ease:"easeOut"},children:e.jsx(l.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),t>0&&e.jsxs(l.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"absolute top-1/2 -translate-y-1/2 bg-white px-2 py-0.5 rounded-full shadow-md text-[10px] font-bold text-gray-700",style:{left:`${Math.min(t/1440*100,95)}%`,transform:"translate(-50%, -50%)"},children:[Math.round(t/1440*100),"%"]})]}),e.jsxs("div",{className:"relative w-full h-1 mt-1",children:[e.jsx("div",{className:"absolute left-[66.66%] top-0 w-px h-full bg-yellow-300 opacity-50"}),e.jsx("div",{className:"absolute left-[83.33%] top-0 w-px h-full bg-orange-300 opacity-50"}),e.jsx("div",{className:"absolute left-[100%] top-0 w-px h-full bg-red-400"})]})]}),e.jsx(E,{children:t>1200&&e.jsx(l.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},className:`rounded-xl p-3 border-2 ${t>1440?"bg-gradient-to-r from-red-50 to-orange-50 border-red-200":"bg-gradient-to-r from-yellow-50 to-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(l.span,{className:"text-xl",animate:{scale:t>1440?[1,1.2,1]:1,rotate:t>1440?[0,-10,10,0]:0},transition:{duration:.5,repeat:t>1440?1/0:0,repeatDelay:1},children:t>1440?"âš ï¸":"âš¡"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-xs font-semibold ${t>1440?"text-red-700":"text-orange-700"}`,children:t>1440?"Â¡Superaste las 24 horas!":"Te estÃ¡s acercando al lÃ­mite del dÃ­a"}),e.jsx("p",{className:`text-[11px] mt-0.5 ${t>1440?"text-red-600":"text-orange-600"}`,children:t>1440?"Revisa las duraciones de tus actividades antes de agregar mÃ¡s":`Quedan ${Math.floor((1440-t)/60)}h ${(1440-t)%60}m disponibles`})]})]})})})]})]})]}),e.jsx(Mt,{isOpen:!!c,onClose:()=>{y(null),m(!1)},color:(c==null?void 0:c.color)||"#C4E5FF",title:(c==null?void 0:c.label)||"",children:e.jsxs("div",{className:"space-y-6 px-6 py-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"â±ï¸ Â¿CuÃ¡nto tiempo dedicaste?"}),e.jsx(qt,{label:"",value:S,onChange:j,color:(c==null?void 0:c.color)||"#C4E5FF",max:720})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ’­ CuÃ©ntanos mÃ¡s sobre esta actividad"}),e.jsx("div",{className:"space-y-4",children:$e.map((p,v)=>e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.1},children:p.type==="rating"?e.jsx(Ot,{emoji:p.emoji,label:p.label,value:b[p.id]||0,onChange:w=>N({...b,[p.id]:w}),color:(c==null?void 0:c.color)||"#C4E5FF"}):e.jsx(Rt,{emoji:p.emoji,label:p.label,value:b[p.id],onChange:w=>N({...b,[p.id]:w}),color:(c==null?void 0:c.color)||"#C4E5FF"})},p.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ“ Notas adicionales (opcional)"}),e.jsx("textarea",{value:z,onChange:p=>C(p.target.value),placeholder:"Algo especÃ­fico que quieras recordar...",className:"w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-pastel-purple focus:outline-none resize-none",rows:3,maxLength:150}),e.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[z.length,"/150"]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-white via-white to-white/95 pt-6 pb-4 px-6 border-t-2 border-gray-200 shadow-2xl z-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto flex gap-3",children:[a.some(p=>p.icon===(c==null?void 0:c.id))&&e.jsx(l.button,{onClick:_e,className:"px-6 py-4 rounded-full font-bold text-base bg-red-100 text-red-600 hover:bg-red-200 transition-colors flex items-center gap-2 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:"Borrar"}),e.jsx(l.button,{onClick:Ae,className:"flex-1 py-5 rounded-full font-bold text-xl flex items-center justify-center gap-3 shadow-2xl border-2 border-white",style:{background:`linear-gradient(135deg, ${c==null?void 0:c.color}, ${c==null?void 0:c.color}DD)`,color:"#1F2937"},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx("span",{children:a.some(p=>p.icon===(c==null?void 0:c.id))?"Actualizar":"Guardar"})})]})})]})}),e.jsx(Lt,{timeContext:h})]})}function Zt(){const a=_(s=>s.isModalOpen),t=[{path:"/hoy",icon:le,label:"Hoy"},{path:"/dashboard",icon:Xe,label:"Dashboard"},{path:"/perfil",icon:ue,label:"Perfil"}];return e.jsx(E,{children:!a&&e.jsx(l.nav,{initial:{y:100},animate:{y:0},exit:{y:100},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-lg bg-white/80 border-t border-white/50 shadow-lg",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-around py-3",children:t.map(s=>e.jsx(qe,{to:s.path,className:({isActive:n})=>`flex flex-col items-center gap-1 px-6 py-2 rounded-2xl transition-all ${n?"bg-gradient-to-r from-pastel-pink to-pastel-purple":"hover:bg-gray-100"}`,children:({isActive:n})=>e.jsxs(e.Fragment,{children:[e.jsx(l.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(s.icon,{size:24,strokeWidth:n?2.5:2,color:n?"#374151":"#9CA3AF"})}),e.jsx("span",{className:`text-xs font-semibold ${n?"text-gray-700":"text-gray-500"}`,children:s.label})]})},s.path))})})})})}function ea(){const[a,t]=g.useState(!1),[s,n]=g.useState(""),[r,i]=g.useState(""),[o,d]=g.useState(""),[m,f]=g.useState(!1),[x,u]=g.useState("");g.useEffect(()=>{const y=localStorage.getItem("daylo-user-name"),b=localStorage.getItem("daylo-user-email");y&&b?n(y):t(!0)},[]);const c=async()=>{if(!r.trim()||!o.trim()){u("Por favor completa todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){u("Por favor ingresa un correo vÃ¡lido");return}f(!0),u("");try{const b=await we(o.trim());b?(localStorage.setItem("daylo-user-name",b.name),localStorage.setItem("daylo-user-email",b.email),n(b.name),t(!1),setTimeout(()=>{alert(`Â¡Bienvenido de vuelta, ${b.name}! ğŸ‰
Hemos cargado tus datos.`)},500)):(await Se(r.trim(),o.trim()),localStorage.setItem("daylo-user-name",r.trim()),localStorage.setItem("daylo-user-email",o.trim()),n(r.trim()),t(!1))}catch(b){console.error("Error al verificar usuario:",b),u("Error al conectar. Intenta nuevamente.")}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(l.header,{initial:{y:-100},animate:{y:0},className:"sticky top-0 z-50 backdrop-blur-lg bg-white/70 border-b border-white/50 shadow-sm",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l.div,{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-lg",whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:e.jsx("span",{className:"text-2xl",children:"âœ¨"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Daylo"}),s&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Hola, ",s,"! ğŸ‘‹"]})]})]}),e.jsx(l.div,{className:"text-sm text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:new Date().toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})})]})})}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:e.jsx(Me,{})}),e.jsx(Zt,{}),e.jsx(E,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx(l.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 relative",children:[e.jsx(l.div,{className:"absolute -top-10 left-1/2 transform -translate-x-1/2",animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-4xl",children:"âœ¨"})})}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Â¡Bienvenido a Daylo!"}),e.jsx("p",{className:"text-gray-600",children:"Tu diario personal en la nube"})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CÃ³mo te llamas?"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:r,onChange:y=>i(y.target.value),onKeyPress:y=>{var b;return y.key==="Enter"&&((b=document.getElementById("email-input"))==null?void 0:b.focus())},placeholder:"Tu nombre",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CuÃ¡l es tu correo?"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{id:"email-input",type:"email",value:o,onChange:y=>{d(y.target.value),u("")},onKeyPress:y=>y.key==="Enter"&&c(),placeholder:"tu@correo.com",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg"})]})]}),x&&e.jsx(l.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-600 text-sm text-center",children:x}),e.jsx(l.button,{onClick:c,disabled:!r.trim()||!o.trim()||m,className:"w-full py-4 rounded-2xl font-bold text-lg bg-gradient-to-r from-pastel-pink to-pastel-purple text-gray-800 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:r.trim()&&o.trim()&&!m?1.02:1},whileTap:{scale:r.trim()&&o.trim()&&!m?.98:1},children:m?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(l.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"â³"}),"Verificando..."]}):"âœ¨ Comenzar"})]}),e.jsx("p",{className:"mt-6 text-xs text-center text-gray-500",children:"Tus datos se guardan de forma segura en Firebase"})]})})]})}),"    "]})}const ta=g.lazy(()=>Y(()=>import("./Dashboard-DqIoBamY.js"),__vite__mapDeps([0,1,2,3,4,5]))),aa=g.lazy(()=>Y(()=>import("./Profile-Nv8WHI9d.js"),__vite__mapDeps([6,1,2,3,5])));function sa(){return e.jsx(Oe,{children:e.jsx(Re,{children:e.jsxs(P,{path:"/",element:e.jsx(ea,{}),children:[e.jsx(P,{index:!0,element:e.jsx(He,{to:"/hoy",replace:!0})}),e.jsx(P,{path:"hoy",element:e.jsx(Xt,{})}),e.jsx(P,{path:"dashboard",element:e.jsx(g.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(ta,{})})}),e.jsx(P,{path:"perfil",element:e.jsx(g.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(aa,{})})})]})})})}G.createRoot(document.getElementById("root")).render(e.jsx(oe.StrictMode,{children:e.jsx(sa,{})}));export{q as f,Gt as g};

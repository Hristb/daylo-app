const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-C84bUj5q.js","assets/animation-ClZgCcJJ.js","assets/react-vendor-BAfStBEd.js","assets/icons-flP6CO7r.js","assets/charts-BCRNSYNv.js","assets/firebase-DpXdI3fe.js","assets/Profile-CubDWL7d.js"])))=>i.map(i=>d[i]);
import{j as e,m as n,A as S}from"./animation-ClZgCcJJ.js";import{a as Be,r as p,g as We,R as fe,N as Qe,O as Ve,H as Ge,b as Je,d as F,e as Ke}from"./react-vendor-BAfStBEd.js";import{H as K,P as Ye,U as Xe,M as Ze,B as et,a as tt,D as at,b as be,c as st,X as Y,C as je,d as Q,e as ve,f as rt,S as M,g as ue,h as it,i as nt,j as ot,k as lt,l as Ne,m as ct}from"./icons-flP6CO7r.js";import{i as dt,g as ut,c as mt,q as xt,w as pt,o as ht,a as yt,d as q,b as we,T as G,s as Se}from"./firebase-DpXdI3fe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var J={},me=Be;J.createRoot=me.createRoot,J.hydrateRoot=me.hydrateRoot;const gt="modulepreload",ft=function(t){return"/daylo-app/"+t},xe={},Ee=function(r,a,s){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(a.map(g=>{if(g=ft(g),g in xe)return;xe[g]=!0;const m=g.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":gt,m||(h.as="script"),h.crossOrigin="",h.href=g,u&&h.setAttribute("nonce",u),document.head.appendChild(h),m)return new Promise((c,f)=>{h.addEventListener("load",c),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return r().catch(o)})},bt={},pe=t=>{let r;const a=new Set,s=(x,h)=>{const c=typeof x=="function"?x(r):x;if(!Object.is(c,r)){const f=r;r=h??(typeof c!="object"||c===null)?c:Object.assign({},r,c),a.forEach(y=>y(r,f))}},i=()=>r,g={setState:s,getState:i,getInitialState:()=>m,subscribe:x=>(a.add(x),()=>a.delete(x)),destroy:()=>{(bt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},m=r=t(s,i,g);return g},jt=t=>t?pe(t):pe;var Ce={exports:{}},ke={},De={exports:{}},Te={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=p;function vt(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nt=typeof Object.is=="function"?Object.is:vt,wt=$.useState,St=$.useEffect,Et=$.useLayoutEffect,Ct=$.useDebugValue;function kt(t,r){var a=r(),s=wt({inst:{value:a,getSnapshot:r}}),i=s[0].inst,o=s[1];return Et(function(){i.value=a,i.getSnapshot=r,V(i)&&o({inst:i})},[t,a,r]),St(function(){return V(i)&&o({inst:i}),t(function(){V(i)&&o({inst:i})})},[t]),Ct(a),a}function V(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Nt(t,a)}catch{return!0}}function Dt(t,r){return r()}var Tt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dt:kt;Te.useSyncExternalStore=$.useSyncExternalStore!==void 0?$.useSyncExternalStore:Tt;De.exports=Te;var It=De.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L=p,At=It;function zt(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _t=typeof Object.is=="function"?Object.is:zt,$t=At.useSyncExternalStore,Pt=L.useRef,Ft=L.useEffect,Mt=L.useMemo,Ht=L.useDebugValue;ke.useSyncExternalStoreWithSelector=function(t,r,a,s,i){var o=Pt(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=Mt(function(){function g(f){if(!m){if(m=!0,x=f,f=s(f),i!==void 0&&l.hasValue){var y=l.value;if(i(y,f))return h=y}return h=f}if(y=h,_t(x,f))return y;var w=s(f);return i!==void 0&&i(y,w)?(x=f,y):(x=f,h=w)}var m=!1,x,h,c=a===void 0?null:a;return[function(){return g(r())},c===null?void 0:function(){return g(c())}]},[r,a,s,i]);var u=$t(t,o[0],o[1]);return Ft(function(){l.hasValue=!0,l.value=u},[u]),Ht(u),u};Ce.exports=ke;var Ot=Ce.exports;const Rt=We(Ot),Ie={},{useDebugValue:qt}=fe,{useSyncExternalStoreWithSelector:Lt}=Rt;let he=!1;const Ut=t=>t;function Bt(t,r=Ut,a){(Ie?"production":void 0)!=="production"&&a&&!he&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),he=!0);const s=Lt(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,a);return qt(s),s}const ye=t=>{(Ie?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?jt(t):t,a=(s,i)=>Bt(r,s,i);return Object.assign(a,r),a},Wt=t=>t?ye(t):ye,P=Wt((t,r)=>({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,isModalOpen:!1,hasCompletedCheckIn:!1,addActivity:a=>{t(s=>{const i=[...s.selectedActivities,a],o=i.reduce((l,u)=>l+u.duration,0);return{selectedActivities:i,totalMinutes:o,currentEntry:{...s.currentEntry,activities:i}}})},removeActivity:a=>{t(s=>{const i=s.selectedActivities.filter(l=>l.id!==a),o=i.reduce((l,u)=>l+u.duration,0);return{selectedActivities:i,totalMinutes:o,currentEntry:{...s.currentEntry,activities:i}}})},updateActivityDuration:(a,s)=>{t(i=>{const o=i.selectedActivities.map(u=>u.id===a?{...u,duration:s}:u),l=o.reduce((u,g)=>u+g.duration,0);return{selectedActivities:o,totalMinutes:l,currentEntry:{...i.currentEntry,activities:o}}})},updateActivityFacets:(a,s,i)=>{t(o=>{const l=o.selectedActivities.map(u=>u.id===a?{...u,facets:s,notes:i}:u);return{selectedActivities:l,currentEntry:{...o.currentEntry,activities:l}}})},updateActivityEnergy:(a,s)=>{t(i=>{const o=i.selectedActivities.map(l=>l.id===a?{...l,energyImpact:s}:l);return{selectedActivities:o,currentEntry:{...i.currentEntry,activities:o}}})},setReflection:a=>{t(s=>({currentEntry:{...s.currentEntry,reflection:{...s.currentEntry.reflection,...a}}}))},addTask:(a,s=!1,i=!1)=>{t(o=>{const l={id:Date.now().toString(),text:a,completed:!1,createdAt:new Date,isPriority:s,isPersonal:i},u=[...o.currentEntry.tasks||[],l];return{currentEntry:{...o.currentEntry,tasks:u}}})},toggleTask:a=>{t(s=>{const i=(s.currentEntry.tasks||[]).map(o=>o.id===a?{...o,completed:!o.completed}:o);return{currentEntry:{...s.currentEntry,tasks:i}}})},removeTask:a=>{t(s=>{const i=(s.currentEntry.tasks||[]).filter(o=>o.id!==a);return{currentEntry:{...s.currentEntry,tasks:i}}})},setEmotionalCheckIn:a=>{t(s=>({currentEntry:{...s.currentEntry,emotionalCheckIn:a}}))},setDayIntention:a=>{t(s=>({currentEntry:{...s.currentEntry,dayIntention:a}}))},setDayStory:a=>{t(s=>({currentEntry:{...s.currentEntry,dayStory:a}}))},completeCheckIn:()=>{t({hasCompletedCheckIn:!0});const a=new Date().toISOString().split("T")[0];localStorage.setItem("daylo-last-checkin",a)},setDiaryNote:a=>{t(s=>({currentEntry:{...s.currentEntry,diaryNote:a}}))},saveEntry:()=>{const s={...r().currentEntry,id:Date.now().toString(),date:new Date},i=JSON.parse(localStorage.getItem("daylo-entries")||"[]");i.push(s),localStorage.setItem("daylo-entries",JSON.stringify(i)),r().resetEntry()},resetEntry:()=>{t({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,hasCompletedCheckIn:!1})},setModalOpen:a=>{t({isModalOpen:a})}})),Qt=[{id:"work",label:"Productividad",color:"#C4E5FF",defaultDuration:360},{id:"study",label:"Estudio",color:"#E8D4FF",defaultDuration:240},{id:"home",label:"Hogar",color:"#FFD4E5",defaultDuration:180},{id:"exercise",label:"Ejercicio",color:"#D4FFE5",defaultDuration:60},{id:"social",label:"Social",color:"#FFE5D4",defaultDuration:120},{id:"hobbies",label:"Hobbies",color:"#FFF4D4",defaultDuration:90},{id:"food",label:"Comida",color:"#FFE5D4",defaultDuration:90},{id:"sleep",label:"Descanso",color:"#E8D4FF",defaultDuration:480},{id:"health",label:"Salud",color:"#D4FFE5",defaultDuration:60}],Vt={work:[{id:"progress",label:"Â¿Avanzaste en algo importante?",type:"boolean",emoji:"â­"},{id:"control",label:"Â¿Te sentiste en control?",type:"boolean",emoji:"ğŸ®"},{id:"work_value",label:"Â¿Valor de lo realizado?",type:"rating",emoji:"ğŸ’"}],study:[{id:"learned_new",label:"Â¿Aprendiste algo nuevo?",type:"boolean",emoji:"ğŸ’¡"},{id:"can_explain",label:"Â¿PodrÃ­as explicarlo?",type:"boolean",emoji:"ğŸ—£ï¸"},{id:"usefulness",label:"Â¿QuÃ© tan Ãºtil fue?",type:"rating",emoji:"ğŸ¯"}],home:[{id:"space_better",label:"Â¿Tu espacio estÃ¡ mejor?",type:"boolean",emoji:"ğŸ¡"},{id:"did_necessary",label:"Â¿Hiciste lo necesario?",type:"boolean",emoji:"âœ”ï¸"},{id:"how_feel",label:"Â¿CÃ³mo te sientes ahora?",type:"rating",emoji:"ğŸ’­"}],exercise:[{id:"healthy_challenge",label:"Â¿Te desafiaste sanamente?",type:"boolean",emoji:"ğŸ¯"},{id:"pain_discomfort",label:"Â¿Dolor o molestia?",type:"boolean",emoji:"ğŸ©¹"},{id:"enjoyed",label:"Â¿Disfrutaste la actividad?",type:"boolean",emoji:"ğŸ‰"}],social:[{id:"authentic",label:"Â¿ConversaciÃ³n autÃ©ntica?",type:"boolean",emoji:"ğŸ’¬"},{id:"emotional_impact",label:"Â¿Impacto emocional?",type:"rating",emoji:"â¤ï¸"},{id:"added_value",label:"Â¿AgregÃ³ valor a tu dÃ­a?",type:"boolean",emoji:"âœ¨"}],hobbies:[{id:"lost_track_time",label:"Â¿Perdiste nociÃ³n del tiempo?",type:"boolean",emoji:"â°"},{id:"enjoyed_process",label:"Â¿Disfrutaste el proceso?",type:"boolean",emoji:"ğŸ˜Š"},{id:"recharged",label:"Â¿Te recargÃ³ energÃ­a?",type:"boolean",emoji:"âš¡"}],food:[{id:"nourished_well",label:"Â¿Te nutriste bien?",type:"boolean",emoji:"ğŸ¥—"},{id:"taste_quality",label:"Â¿Sabor y presentaciÃ³n?",type:"rating",emoji:"ğŸ˜‹"},{id:"listened_body",label:"Â¿Escuchaste tu cuerpo?",type:"boolean",emoji:"ğŸ’š"}],sleep:[{id:"hours_amount",label:"Â¿Cantidad de horas?",type:"rating",emoji:"â±ï¸"},{id:"slept_deeply",label:"Â¿Dormiste profundamente?",type:"boolean",emoji:"ğŸ’¤"},{id:"ready_for_day",label:"Â¿Listo para el dÃ­a?",type:"boolean",emoji:"â˜€ï¸"}],health:[{id:"physical_feeling",label:"Â¿CÃ³mo te sientes fÃ­sicamente?",type:"rating",emoji:"ğŸ’ª"},{id:"health_stable",label:"Â¿Tu salud estÃ¡ estable?",type:"boolean",emoji:"ğŸ“Š"},{id:"did_something",label:"Â¿Hiciste algo por tu salud?",type:"boolean",emoji:"ğŸŒ±"}]},Gt=t=>{const a=[...Vt[t]||[]];for(let s=a.length-1;s>0;s--){const i=Math.floor(Math.random()*(s+1));[a[s],a[i]]=[a[i],a[s]]}return a},Jt=[{emoji:"ğŸ˜Š",label:"Feliz"},{emoji:"ğŸ˜Œ",label:"Tranquilo"},{emoji:"ğŸ˜´",label:"Cansado"},{emoji:"ğŸ˜¤",label:"Estresado"},{emoji:"ğŸ¤—",label:"Motivado"},{emoji:"ğŸ˜",label:"Neutral"}],R=t=>{const r=Math.floor(t/60),a=t%60;return r===0?`${a}m`:a===0?`${r}h`:`${r}h ${a}m`},Kt={work:st,home:be,exercise:at,social:tt,study:et,sleep:Ze,food:Xe,hobbies:Ye,health:K};function Yt({type:t,size:r=32,animate:a=!1,color:s="#667085"}){const i=Kt[t];return e.jsx(n.div,{initial:a?{scale:0,rotate:-180}:{},animate:a?{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20}}:{},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},children:e.jsx(i,{size:r,color:s,strokeWidth:2.5})})}function Xt({activity:t,isSelected:r,onToggle:a}){const[s,i]=p.useState(!1);return e.jsxs(n.button,{onClick:a,onTapStart:()=>i(!0),onTap:()=>i(!1),onTapCancel:()=>i(!1),className:`daylo-icon-card w-full aspect-square ${r?"selected":""}`,style:{backgroundColor:r?t.color:`${t.color}40`,borderColor:t.color},whileHover:{scale:1.05},whileTap:{scale:.95},animate:r?{boxShadow:[`0 0 0 0 ${t.color}40`,`0 0 0 8px ${t.color}00`]}:{},transition:{duration:.3},children:[e.jsx(n.div,{animate:r?{scale:[1,1.2,1],rotate:[0,10,-10,0]}:{},transition:{duration:.5},children:e.jsx(Yt,{type:t.id,size:40,animate:s,color:r?"#374151":"#6B7280"})}),e.jsx("span",{className:"text-sm font-semibold mt-2 text-gray-700",children:t.label}),r&&e.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg",children:"âœ“"})]})}function Zt({label:t,value:r,onChange:a,min:s=0,max:i=720,step:o=15,color:l="#C4E5FF",icon:u}){const[g,m]=p.useState(!1),x=(r-s)/(i-s)*100;return e.jsxs(n.div,{className:"w-full space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsx("div",{className:"text-gray-600",children:u}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t})]}),e.jsx(n.span,{className:"text-xl font-black text-gray-800",animate:g?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:R(r)})]}),e.jsxs("div",{className:"relative h-3 bg-gray-200 rounded-full overflow-hidden",children:[e.jsx(n.div,{className:"absolute h-full rounded-full",style:{width:`${x}%`,backgroundColor:l},initial:!1,animate:{width:`${x}%`},transition:{type:"spring",stiffness:300,damping:30}}),e.jsx("input",{type:"range",min:s,max:i,step:o,value:r,onChange:h=>a(Number(h.target.value)),onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),onTouchStart:()=>m(!0),onTouchEnd:()=>m(!1),className:"absolute w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx(n.div,{className:"absolute top-1/2 -translate-y-1/2 w-5 h-5 rounded-full shadow-lg pointer-events-none z-20",style:{left:`${x}%`,backgroundColor:l,transform:`translate(-50%, -50%) scale(${g?1.3:1})`},animate:{boxShadow:g?`0 0 0 8px ${l}40`:`0 0 0 0px ${l}00`},transition:{duration:.2}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 px-1",children:[e.jsx("span",{children:R(s)}),e.jsx("span",{children:R(i/2)}),e.jsx("span",{children:R(i)})]})]})}function ea({isOpen:t,onClose:r,children:a,color:s,title:i}){return e.jsx(S,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40"}),e.jsx(n.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-x-0 bottom-0 z-50 flex flex-col max-h-[85vh]",children:e.jsxs("div",{className:"bg-white rounded-t-3xl shadow-2xl flex flex-col overflow-hidden",style:{borderTopColor:s,borderTopWidth:"4px",height:"100%"},children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),e.jsxs("div",{className:"flex items-center justify-between px-6 pb-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i}),e.jsx(n.button,{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Y,{size:24,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1 pb-32 overscroll-contain",children:a})]})})]})})}function ta({emoji:t,label:r,value:a,onChange:s,color:i}){const o=[1,2,3,4,5];return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:t}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:r})]}),e.jsx("div",{className:"flex justify-between gap-2",children:o.map(l=>e.jsx(n.button,{onClick:()=>s(l),className:`w-full py-3 rounded-xl font-bold text-lg transition-all ${a===l?"shadow-lg scale-105":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,style:{backgroundColor:a===l?i:void 0,color:a===l?"#374151":void 0},whileHover:{scale:a===l?1.05:1.02},whileTap:{scale:.95},children:l},l))}),e.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Bajo"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Alto"})]})]})}function aa({emoji:t,label:r,value:a,onChange:s,color:i}){return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:t}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:r})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(n.button,{onClick:()=>s(!0),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${a===!0?"shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,style:{backgroundColor:a===!0?i:void 0,color:a===!0?"#374151":void 0},whileHover:{scale:a===!0?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(je,{size:20,strokeWidth:3}),"SÃ­"]}),e.jsxs(n.button,{onClick:()=>s(!1),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${a===!1?"bg-gray-300 text-gray-700 shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,whileHover:{scale:a===!1?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(Y,{size:20,strokeWidth:3}),"No"]})]})]})}function sa({timeContext:t}){const[r,a]=p.useState(""),[s,i]=p.useState(""),{currentEntry:o,addTask:l,toggleTask:u,removeTask:g}=P(),m=o.tasks||[],x=m.filter(b=>b.isPriority&&!b.isPersonal),h=m.find(b=>b.isPersonal),c=m.filter(b=>!b.isPriority&&!b.isPersonal),f=b=>{if(b.preventDefault(),r.trim()){const O=x.length<3&&t==="morning";l(r.trim(),O,!1),a("")}},y=b=>{b.preventDefault(),s.trim()&&!h&&(l(s.trim(),!1,!0),i(""))},w=m.filter(b=>b.completed).length,C=m.length>0?w/m.length*100:0,k=t==="morning"?{title:"âœ¨ Â¿QuÃ© quieres lograr hoy?",subtitle:"Planifica tus intenciones para el dÃ­a",placeholder:"Ej: Terminar reporte, hacer ejercicio..."}:t==="afternoon"?m.length===0?{title:"ğŸ“‹ Â¿QuÃ© hiciste hoy?",subtitle:"Registra las cosas que realizaste",placeholder:"Ej: ReuniÃ³n con equipo, almorzar con amigos..."}:{title:"ğŸ¯ Â¿QuÃ© lograste hoy?",subtitle:"Marca lo que ya completaste",placeholder:"Ej: CompletÃ© el proyecto..."}:{title:"ğŸ“ Resumen de tu dÃ­a",subtitle:"Revisa lo que lograste",placeholder:"Ej: DÃ­a productivo..."},T=x.length<3,I=b=>e.jsxs(n.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,x:-100},className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${b.completed?"bg-green-50 border-green-200":b.isPriority?"bg-purple-50 border-purple-200 hover:border-purple-300":b.isPersonal?"bg-pink-50 border-pink-200 hover:border-pink-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}`,children:[e.jsx("button",{onClick:()=>u(b.id),className:`flex-shrink-0 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all ${b.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-purple-400"}`,children:b.completed&&e.jsx(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:e.jsx(je,{className:"w-4 h-4 text-white",strokeWidth:3})})}),e.jsx("span",{className:`flex-1 text-sm ${b.completed?"line-through text-gray-400":"text-gray-700 font-medium"}`,children:b.text}),e.jsx("button",{onClick:()=>g(b.id),className:"flex-shrink-0 w-6 h-6 rounded-lg hover:bg-red-100 flex items-center justify-center text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(Y,{className:"w-4 h-4"})})]},b.id);return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6",children:[t==="morning"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ¯ MÃ¡ximo 3 prioridades"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Menos es mÃ¡s. EnfÃ³cate en lo que realmente importa"})]}),x.length>=3&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-lg font-medium",children:"Completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{mode:"popLayout",children:x.map(I)}),x.length===0&&e.jsx("div",{className:"text-center py-6 border-2 border-dashed border-purple-200 rounded-xl bg-purple-50/30",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© 3 cosas moverÃ­an la aguja hoy?"})})]}),T&&e.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:b=>a(b.target.value),placeholder:`Prioridad ${x.length+1}...`,className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm bg-purple-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(Q,{className:"w-5 h-5"})})]}),!T&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 bg-purple-50 rounded-xl border border-purple-200",children:e.jsx("p",{className:"text-xs text-purple-700 text-center",children:"âœ¨ Perfecto. MÃ¡s de 3 prioridades reduce tu probabilidad de completarlas en 50%"})})]}),t==="morning"&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ’š 1 AcciÃ³n para ti"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:'Algo que cuide tu bienestar, aunque "no sea productivo"'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{mode:"popLayout",children:h&&I(h)}),!h&&e.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-pink-200 rounded-xl bg-pink-50/30",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© te harÃ­a bien hoy?"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caminar, descansar, llamar a alguien..."})]})]}),!h&&e.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:b=>i(b.target.value),placeholder:"Ej: Caminar 10 min, desconectar...",className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent text-sm bg-pink-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(Q,{className:"w-5 h-5"})})]})]}),(t!=="morning"||c.length>0)&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:k.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.subtitle})]}),m.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[w,"/",m.length]})]}),m.length>0&&e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-400 to-pink-400"})}),e.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[e.jsx(S,{mode:"popLayout",children:t==="morning"?c.map(I):m.map(I)}),m.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"AÃºn no hay tareas"}),e.jsx("p",{className:"text-xs mt-1",children:t==="morning"?"Â¡Comienza a planificar tu dÃ­a!":"Â¿QuÃ© hiciste hoy?"})]})]}),t!=="morning"&&e.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:b=>a(b.target.value),placeholder:k.placeholder,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(Q,{className:"w-5 h-5"})})]})]}),m.length>0&&w===m.length&&e.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:e.jsx("p",{className:"text-sm text-green-700 font-medium text-center",children:"ğŸ‰ Â¡Completaste todas tus tareas! Â¡Excelente trabajo!"})})]})}function ra({timeContext:t}){const{currentEntry:r,setDiaryNote:a}=P(),s=r.diaryNote||"",[i,o]=p.useState(!1),u=t==="morning"?{title:"ğŸŒ… Â¿CÃ³mo te sientes hoy?",placeholder:`Hoy me siento... Espero que sea un dÃ­a en el que...

Ãšsalo como tu espacio personal para expresarte libremente.`,emoji:"âœ¨"}:t==="afternoon"?{title:"ğŸŒ¤ï¸ Â¿CÃ³mo va tu dÃ­a?",placeholder:`Hasta ahora mi dÃ­a ha sido... Me siento...

Comparte lo que llevas vivido hoy.`,emoji:"ğŸ’­"}:{title:"ğŸŒ™ ReflexiÃ³n del dÃ­a",placeholder:`Hoy fue un dÃ­a... Lo mejor fue... TambiÃ©n sentÃ­...

Este es tu espacio seguro para reflexionar.`,emoji:"ğŸ“–"},g=s.length,m=1e3;return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border-2 border-purple-200 overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>o(!i),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:u.title}),e.jsx("p",{className:"text-sm text-purple-600",children:s?`${s.split(/\s+/).filter(x=>x.length>0).length} palabras escritas`:"Tu espacio personal"})]})]}),e.jsx(n.div,{animate:{rotate:i?180:0},transition:{duration:.3},children:e.jsx(rt,{className:"w-6 h-6 text-purple-500"})})]}),e.jsx(S,{children:i&&e.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t-2 border-purple-100",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[!s&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 p-3 bg-white/80 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-purple-700",children:[t==="morning"&&"Comenzar el dÃ­a escribiendo tus pensamientos te ayuda a tener claridad mental",t==="afternoon"&&"Tomarte un momento para reflexionar puede cambiar el rumbo de tu dÃ­a",t==="evening"&&"Escribir antes de dormir te ayuda a procesar el dÃ­a y descansar mejor"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:s,onChange:x=>a(x.target.value),placeholder:u.placeholder,maxLength:m,className:"w-full h-56 p-4 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm text-gray-700 placeholder:text-gray-400 bg-white",style:{lineHeight:"1.6"}}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400 bg-white px-2 py-1 rounded-lg",children:[g,"/",m]})]}),s&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 flex justify-between text-xs text-purple-600 px-2",children:[e.jsxs("span",{children:[s.split(/\s+/).filter(x=>x.length>0).length," palabras"]}),e.jsxs("span",{children:[s.split(`
`).length," lÃ­neas"]})]})]})})})]})}const ge=[{emoji:"ğŸ˜Š",label:"Bien",color:"#D4FFE5"},{emoji:"ğŸ˜°",label:"Ansioso/a",color:"#FFE5D4"},{emoji:"ğŸ˜´",label:"Cansado/a",color:"#E8D4FF"},{emoji:"ğŸ˜¤",label:"Abrumado/a",color:"#FFD4E5"},{emoji:"ğŸ¤—",label:"Motivado/a",color:"#FFF4D4"},{emoji:"ğŸ˜",label:"Neutral",color:"#E8E8E8"}];function ia({onComplete:t}){var C;const{setEmotionalCheckIn:r,setDayIntention:a}=P(),[s,i]=p.useState(1),[o,l]=p.useState(""),[u,g]=p.useState(""),[m,x]=p.useState(""),[h,c]=p.useState(""),f=()=>{s===1&&o?(r({feeling:o,mentalNoise:u||void 0,needsToday:m||void 0}),i(2)):s===2&&h&&(a(h),t())},y=o!=="",w=h.trim()!=="";return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-purple-100/90 to-pink-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(K,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s===1?"â˜€ï¸ Antes de empezar...":"ğŸ¯ Tu intenciÃ³n de hoy"}),e.jsxs("p",{className:"text-xs text-purple-600",children:["Paso ",s," de 2"]})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(S,{mode:"wait",children:[s===1&&e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Tomarte un momento para reconocer cÃ³mo te sientes te ayuda a regular tus emociones antes de actuar"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"ğŸ’­ Â¿CÃ³mo te sientes ahora mismo?"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:ge.map(j=>e.jsxs(n.button,{onClick:()=>l(j.label),className:`p-3 rounded-xl border-2 transition-all ${o===j.label?"border-purple-400 shadow-md scale-105":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:o===j.label?j.color:"white"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("div",{className:"text-2xl mb-1",children:j.emoji}),e.jsx("div",{className:"text-xs font-medium text-gray-700",children:j.label})]},j.label))})]}),o&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸ’­ Â¿Hay algo que te preocupa? ",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("textarea",{value:u,onChange:j=>g(j.target.value),placeholder:"Ej: El proyecto, una decisiÃ³n pendiente, algo que no puedo dejar de pensar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:2})]}),o&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{delay:.1},className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:"ğŸ’š Â¿QuÃ© necesitas hoy para estar bien?"}),e.jsx("input",{type:"text",value:m,onChange:j=>x(j.target.value),placeholder:"Ej: Calma, tiempo para mÃ­, desconectar, energÃ­a...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm"})]})]},"step1"),s===2&&e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Te sientes:"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[(C=ge.find(j=>j.label===o))==null?void 0:C.emoji," ",o]}),m&&e.jsxs("p",{className:"text-sm text-purple-700 mt-2",children:["ğŸ’š Necesitas: ",m]})]}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Una intenciÃ³n clara cambia cÃ³mo vives todo el dÃ­a. No es una tarea, es tu brÃºjula."})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"âœ¨ Â¿CuÃ¡l es tu intenciÃ³n para hoy?"}),e.jsx("textarea",{value:h,onChange:j=>c(j.target.value),placeholder:"Ej: Hoy quiero avanzar con calma\\nHoy quiero cuidar mi energÃ­a\\nHoy quiero estar presente...",className:"w-full p-4 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:4,autoFocus:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:'ğŸ’¡ No es "quÃ© tienes que hacer", sino "cÃ³mo quieres sentirte" o "quÃ© quieres lograr"'})]})]},"step2")]})})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[s===2&&e.jsx(n.button,{onClick:()=>i(1),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"AtrÃ¡s"}),e.jsx(n.button,{onClick:f,disabled:s===1?!y:!w,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${(s===1?y:w)?"bg-gradient-to-r from-purple-400 to-pink-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:(s===1?y:w)?{scale:1.02}:{},whileTap:(s===1?y:w)?{scale:.98}:{},children:s===1?"Continuar":"Comenzar mi dÃ­a âœ¨"})]})})]})})}function na({onComplete:t}){const{setDayStory:r}=P(),[a,s]=p.useState(""),[i,o]=p.useState(""),[l,u]=p.useState(""),g=()=>{r({howStarted:a,mostSignificant:i,howClosing:l}),t()},m=i.trim()!=="";return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-indigo-100/90 to-purple-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-purple-400 rounded-xl flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"ğŸŒ™ Cuenta tu dÃ­a"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Cierre narrativo"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Convertir tu dÃ­a en una historia te ayuda a procesar experiencias y consolidar recuerdos con significado emocional"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ… Â¿CÃ³mo comenzÃ³ tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:a,onChange:x=>s(x.target.value),placeholder:"Ej: DespertÃ© sin energÃ­a, pero con ganas de avanzar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:150})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["âš¡ Â¿QuÃ© fue lo mÃ¡s significativo hoy?",e.jsx("span",{className:"text-xs text-purple-600",children:"(requerido)"})]}),e.jsx("textarea",{value:i,onChange:x=>o(x.target.value),placeholder:"Ej: Una conversaciÃ³n me hizo reflexionar sobre...\\nLogrÃ© terminar algo que venÃ­a posponiendo...\\nMe di cuenta de que necesito...",className:"w-full p-3 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm resize-none",rows:4,maxLength:300}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.length,"/300 caracteres"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ™ Â¿Con quÃ© sensaciÃ³n cierras tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:l,onChange:x=>u(x.target.value),placeholder:"Ej: Tranquilo, Agradecido, Cansado pero satisfecho...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100})]}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl border border-pink-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-pink-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"ğŸ’­ ReflexiÃ³n final (opcional)"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Â¿QuÃ© agradeces de hoy aunque haya sido difÃ­cil?",e.jsx("br",{}),"Â¿QuÃ© aprendiste que no sabÃ­as ayer?"]})]})]})})]})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{onClick:()=>t(),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Saltar"}),e.jsx(n.button,{onClick:g,disabled:!m,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${m?"bg-gradient-to-r from-indigo-400 to-purple-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:m?{scale:1.02}:{},whileTap:m?{scale:.98}:{},children:"Cerrar mi dÃ­a ğŸŒ™"})]})})]})})}const oa={apiKey:"AIzaSyCVIY7zq53TwD_GdNZqJvIKQr-yLsfSCjw",authDomain:"daylo-app-89843.firebaseapp.com",projectId:"daylo-app-89843",storageBucket:"daylo-app-89843.firebasestorage.app",messagingSenderId:"289095124470",appId:"1:289095124470:web:a6c73903a36d0dfb8ff3d7"},la=dt(oa),H=ut(la),X=()=>localStorage.getItem("daylo-user-email")||"anonymous",ca=async t=>{try{const r=q(H,"users",t),a=await we(r);if(a.exists()){const s=a.data();return{name:s.name,email:s.email}}return null}catch(r){return console.error("âŒ Error verificando usuario:",r),null}},da=async(t,r)=>{try{const a=q(H,"users",r);await Se(a,{name:t,email:r,createdAt:G.now(),updatedAt:G.now()},{merge:!0}),console.log("âœ… Usuario guardado en Firebase:",r)}catch(a){throw console.error("âŒ Error guardando usuario:",a),a}},ua=async t=>{try{const r=X(),a=new Date().toISOString().split("T")[0],s=`${r}_${a}`,i={...t,userEmail:r,date:t.date||new Date().toISOString(),updatedAt:G.now()};await Se(q(H,"dailyEntries",s),i,{merge:!0}),console.log("âœ… Entrada guardada en Firebase:",s)}catch(r){throw console.error("âŒ Error guardando en Firebase:",r),r}},ma=async()=>{try{const t=X(),r=new Date().toISOString().split("T")[0],a=`${t}_${r}`,s=q(H,"dailyEntries",a),i=await we(s);return i.exists()?i.data():null}catch(t){return console.error("âŒ Error obteniendo entrada de hoy:",t),null}},Ea=async()=>{try{const t=X(),r=mt(H,"dailyEntries"),a=xt(r,pt("userEmail","==",t),ht("date","desc")),s=await yt(a),i=[];return s.forEach(o=>{i.push(o.data())}),console.log(`âœ… ${i.length} entradas cargadas desde Firebase`),i}catch(t){return console.error("âŒ Error obteniendo entradas:",t),[]}};function xa(){const t=new Date().getHours();return t>=5&&t<12?"morning":t>=12&&t<19?"afternoon":"evening"}function pa(){var ie,ne,oe,le,ce;const{selectedActivities:t,totalMinutes:r,currentEntry:a,hasCompletedCheckIn:s,addActivity:i,removeActivity:o,updateActivityDuration:l,updateActivityFacets:u,setReflection:g,saveEntry:m,setModalOpen:x,completeCheckIn:h}=P(),[c,f]=p.useState(null),[y,w]=p.useState({}),[C,j]=p.useState(0),[k,T]=p.useState(""),[I,b]=p.useState(!1),[O,Z]=p.useState(!1),[Ae,ee]=p.useState(!1),[U,B]=p.useState("synced"),[A]=p.useState(xa()),[ze,_e]=p.useState([]),[$e,te]=p.useState(!1),[Pe,ae]=p.useState(!1),[Fe,se]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const E=await ma();E&&E.activities&&E.activities.forEach(D=>{i(D)})}catch(E){console.error("Error cargando datos de hoy:",E)}})();const v=new Date().toISOString().split("T")[0],N=localStorage.getItem("daylo-last-checkin");A==="morning"&&!s&&N!==v&&setTimeout(()=>te(!0),1e3)},[]);const Me=d=>{const v=t.find(E=>E.icon===d.id),N=Gt(d.id);_e(N),v?(f(d),w(v.facets||{}),j(v.duration),T(v.notes||"")):(f(d),w({}),j(d.defaultDuration),T("")),x(!0)},He=()=>{if(!c)return;const d=t.find(D=>D.icon===c.id),v=1440;let N=r;d?N=r-d.duration+C:N=r+C;const E=N>v;d?(l(d.id,C),u(d.id,y,k)):i({id:Date.now().toString(),icon:c.id,label:c.label,duration:C,color:c.color,facets:y,notes:k}),E&&(se(!0),setTimeout(()=>se(!1),4e3)),setTimeout(async()=>{B("syncing");const D=new Date().toISOString().split("T")[0],_=JSON.parse(localStorage.getItem("daylo-entries")||"[]"),Ue=d?t.map(z=>z.icon===c.id?{...z,duration:C,facets:y,notes:k}:z):[...t,{id:Date.now().toString(),icon:c.id,label:c.label,duration:C,color:c.color,facets:y,notes:k}],de=_.findIndex(z=>new Date(z.date).toISOString().split("T")[0]===D),W={id:Date.now().toString(),date:new Date,activities:Ue,reflection:{highlights:"",mood:"ğŸ˜Š"}};de>=0?_[de]=W:_.push(W),localStorage.setItem("daylo-entries",JSON.stringify(_));try{await ua(W),B("synced")}catch(z){console.error("Error guardando en Firebase:",z),B("offline")}},100),f(null),x(!1),w({}),T("")},Oe=()=>{if(!c)return;const d=t.find(v=>v.icon===c.id);d&&(o(d.id),setTimeout(()=>{const v=new Date().toISOString().split("T")[0],N=JSON.parse(localStorage.getItem("daylo-entries")||"[]"),E=N.findIndex(D=>new Date(D.date).toISOString().split("T")[0]===v);if(E>=0){const D=t.filter(_=>_.id!==d.id);N[E]={...N[E],activities:D},localStorage.setItem("daylo-entries",JSON.stringify(N))}},100)),f(null),x(!1)},Re=async()=>{t.length!==0&&(Z(!0),await new Promise(d=>setTimeout(d,1e3)),m(),Z(!1),ee(!0),setTimeout(()=>{ee(!1),b(!1)},2e3))},qe=t.length>0,Le=ze,re=A==="morning"?{title:"ğŸŒ… Â¡Buenos dÃ­as!",subtitle:"Comienza tu dÃ­a con intenciÃ³n"}:A==="afternoon"?{title:"â˜€ï¸ Â¿CÃ³mo va tu dÃ­a?",subtitle:"Registra lo que has vivido"}:{title:"ğŸŒ™ Reflexiona sobre tu dÃ­a",subtitle:"Un momento para cerrar el dÃ­a conscientemente"};return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"daylo-card text-center",children:[e.jsx(n.h2,{className:"text-2xl font-bold text-gray-800 mb-2",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:re.title}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center justify-center gap-2",children:[re.subtitle,U==="synced"&&e.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-xs",children:[e.jsx(ue,{size:14})," Sincronizado"]}),U==="syncing"&&e.jsxs(n.span,{className:"text-blue-600 flex items-center gap-1 text-xs",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:[e.jsx(ue,{size:14})," Guardando..."]}),U==="offline"&&e.jsxs("span",{className:"text-orange-600 flex items-center gap-1 text-xs",children:[e.jsx(it,{size:14})," Sin conexiÃ³n"]})]})]}),e.jsx(S,{children:$e&&e.jsx(ia,{onComplete:()=>{te(!1),h()}})}),e.jsx(S,{children:Pe&&e.jsx(na,{onComplete:()=>{ae(!1)}})}),e.jsx(S,{children:Fe&&e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-40 max-w-md w-full mx-4",children:e.jsx("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-2xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(nt,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Registraste mÃ¡s de 24 horas"}),e.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"No pasa nada, a veces es difÃ­cil calcular. Puedes ajustarlo despuÃ©s."})]})]})})})}),a.dayIntention&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Tu intenciÃ³n de hoy"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.dayIntention})]})]})}),A==="evening"&&t.length===0&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-5 border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’š"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:"No pasa nada si hoy no registraste actividades"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Los dÃ­as de descanso tambiÃ©n cuentan. Â¿QuÃ© SÃ hiciste hoy, aunque parezca pequeÃ±o?"})]})]})}),A==="evening"&&t.length>0&&!((ie=a.dayStory)!=null&&ie.mostSignificant)&&e.jsx(n.button,{onClick:()=>ae(!0),className:"w-full py-4 bg-gradient-to-r from-indigo-400 to-purple-400 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"ğŸŒ™ Cerrar mi dÃ­a con reflexiÃ³n"}),e.jsx(sa,{timeContext:A}),e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"daylo-card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(M,{size:20,className:"text-pastel-purple"}),"Â¿QuÃ© hiciste hoy?"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Qt.map((d,v)=>e.jsx(n.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:v*.05},children:e.jsx(Xt,{activity:d,isSelected:t.some(N=>N.icon===d.id),onToggle:()=>Me(d)})},d.id))}),t.length>0&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-semibold text-gray-600",children:[t.length," ",t.length===1?"actividad":"actividades"]}),e.jsxs("span",{className:`text-xl font-bold ${r>1440?"text-red-600":r>1200?"text-orange-600":"text-purple-600"}`,children:[Math.floor(r/60),"h ",r%60,"m"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Tiempo del dÃ­a"}),e.jsxs("span",{children:[Math.round(r/1440*100),"% de 24h"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${Math.min(r/1440*100,100)}%`},className:`h-full rounded-full ${r>1440?"bg-red-500":r>1200?"bg-orange-400":r>960?"bg-yellow-400":"bg-green-400"}`,transition:{duration:.5}})}),r>1200&&e.jsx(n.p,{initial:{opacity:0},animate:{opacity:1},className:`text-xs ${r>1440?"text-red-600 font-semibold":"text-orange-600"}`,children:r>1440?"âš ï¸ Has excedido las 24 horas del dÃ­a":"âš¡ Te estÃ¡s acercando al lÃ­mite de 24h"})]})]})]}),e.jsx(ea,{isOpen:!!c,onClose:()=>{f(null),x(!1)},color:(c==null?void 0:c.color)||"#C4E5FF",title:(c==null?void 0:c.label)||"",children:e.jsxs("div",{className:"space-y-6 px-6 py-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"â±ï¸ Â¿CuÃ¡nto tiempo dedicaste?"}),e.jsx(Zt,{label:"",value:C,onChange:j,color:(c==null?void 0:c.color)||"#C4E5FF",max:720})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ’­ CuÃ©ntanos mÃ¡s sobre esta actividad"}),e.jsx("div",{className:"space-y-4",children:Le.map((d,v)=>e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.1},children:d.type==="rating"?e.jsx(ta,{emoji:d.emoji,label:d.label,value:y[d.id]||0,onChange:N=>w({...y,[d.id]:N}),color:(c==null?void 0:c.color)||"#C4E5FF"}):e.jsx(aa,{emoji:d.emoji,label:d.label,value:y[d.id],onChange:N=>w({...y,[d.id]:N}),color:(c==null?void 0:c.color)||"#C4E5FF"})},d.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ“ Notas adicionales (opcional)"}),e.jsx("textarea",{value:k,onChange:d=>T(d.target.value),placeholder:"Algo especÃ­fico que quieras recordar...",className:"w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-pastel-purple focus:outline-none resize-none",rows:3,maxLength:150}),e.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[k.length,"/150"]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-white via-white to-white/95 pt-6 pb-4 px-6 border-t-2 border-gray-200 shadow-2xl z-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto flex gap-3",children:[t.some(d=>d.icon===(c==null?void 0:c.id))&&e.jsx(n.button,{onClick:Oe,className:"px-6 py-4 rounded-full font-bold text-base bg-red-100 text-red-600 hover:bg-red-200 transition-colors flex items-center gap-2 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:"Borrar"}),e.jsx(n.button,{onClick:He,className:"flex-1 py-5 rounded-full font-bold text-xl flex items-center justify-center gap-3 shadow-2xl border-2 border-white",style:{background:`linear-gradient(135deg, ${c==null?void 0:c.color}, ${c==null?void 0:c.color}DD)`,color:"#1F2937"},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx("span",{children:t.some(d=>d.icon===(c==null?void 0:c.id))?"Actualizar":"Guardar"})})]})})]})}),e.jsx(S,{children:qe&&!I&&e.jsxs(n.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onClick:()=>b(!0),className:"daylo-button-primary w-full flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(ot,{size:20}),"Agregar reflexiÃ³n"]})}),e.jsx(S,{children:I&&e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"daylo-card space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"ğŸ’­ Reflexiona sobre tu dÃ­a"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-600",children:"Â¿CÃ³mo te sentiste?"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Jt.map(d=>{var v;return e.jsx(n.button,{onClick:()=>g({mood:d.emoji}),className:`px-4 py-2 rounded-full text-2xl transition-all ${((v=a.reflection)==null?void 0:v.mood)===d.emoji?"bg-pastel-yellow scale-110 shadow-lg":"bg-gray-100 hover:bg-gray-200"}`,whileHover:{scale:1.1},whileTap:{scale:.95},title:d.label,children:d.emoji},d.emoji)})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-600",children:"Â¿QuÃ© rescatas del dÃ­a?"}),e.jsx("textarea",{value:((ne=a.reflection)==null?void 0:ne.highlights)||"",onChange:d=>g({highlights:d.target.value}),placeholder:"Algo breve que te haya gustado o aprendido...",className:"w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-pastel-purple focus:outline-none resize-none",rows:3,maxLength:200}),e.jsxs("div",{className:"text-xs text-gray-400 text-right",children:[((le=(oe=a.reflection)==null?void 0:oe.highlights)==null?void 0:le.length)||0,"/200"]})]}),e.jsx(n.button,{onClick:Re,disabled:O||!((ce=a.reflection)!=null&&ce.highlights),className:"daylo-button-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:O?e.jsx(n.span,{animate:{opacity:[1,.5,1]},transition:{duration:1,repeat:1/0},children:"Guardando..."}):"âœ¨ Guardar mi dÃ­a"})]})}),e.jsx(ra,{timeContext:A}),e.jsx(S,{children:Ae&&e.jsx(n.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:e.jsxs(n.div,{className:"daylo-card text-center p-8",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5},children:[e.jsx(n.div,{className:"text-6xl mb-4",animate:{scale:[0,1.2,1],rotate:[0,360]},children:"ğŸ‰"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Â¡DÃ­a guardado!"}),e.jsx("p",{className:"text-gray-600",children:"Sigue asÃ­, cada dÃ­a cuenta âœ¨"})]})})})]})}function ha(){const t=P(a=>a.isModalOpen),r=[{path:"/hoy",icon:be,label:"Hoy"},{path:"/dashboard",icon:lt,label:"Dashboard"},{path:"/perfil",icon:Ne,label:"Perfil"}];return e.jsx(S,{children:!t&&e.jsx(n.nav,{initial:{y:100},animate:{y:0},exit:{y:100},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-lg bg-white/80 border-t border-white/50 shadow-lg",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-around py-3",children:r.map(a=>e.jsx(Qe,{to:a.path,className:({isActive:s})=>`flex flex-col items-center gap-1 px-6 py-2 rounded-2xl transition-all ${s?"bg-gradient-to-r from-pastel-pink to-pastel-purple":"hover:bg-gray-100"}`,children:({isActive:s})=>e.jsxs(e.Fragment,{children:[e.jsx(n.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(a.icon,{size:24,strokeWidth:s?2.5:2,color:s?"#374151":"#9CA3AF"})}),e.jsx("span",{className:`text-xs font-semibold ${s?"text-gray-700":"text-gray-500"}`,children:a.label})]})},a.path))})})})})}function ya(){const[t,r]=p.useState(!1),[a,s]=p.useState(""),[i,o]=p.useState(""),[l,u]=p.useState(""),[g,m]=p.useState(!1),[x,h]=p.useState("");p.useEffect(()=>{const f=localStorage.getItem("daylo-user-name"),y=localStorage.getItem("daylo-user-email");f&&y?s(f):r(!0)},[]);const c=async()=>{if(!i.trim()||!l.trim()){h("Por favor completa todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){h("Por favor ingresa un correo vÃ¡lido");return}m(!0),h("");try{const y=await ca(l.trim());y?(localStorage.setItem("daylo-user-name",y.name),localStorage.setItem("daylo-user-email",y.email),s(y.name),r(!1),setTimeout(()=>{alert(`Â¡Bienvenido de vuelta, ${y.name}! ğŸ‰
Hemos cargado tus datos.`)},500)):(await da(i.trim(),l.trim()),localStorage.setItem("daylo-user-name",i.trim()),localStorage.setItem("daylo-user-email",l.trim()),s(i.trim()),r(!1))}catch(y){console.error("Error al verificar usuario:",y),h("Error al conectar. Intenta nuevamente.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(n.header,{initial:{y:-100},animate:{y:0},className:"sticky top-0 z-50 backdrop-blur-lg bg-white/70 border-b border-white/50 shadow-sm",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n.div,{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-lg",whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:e.jsx("span",{className:"text-2xl",children:"âœ¨"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Daylo"}),a&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Hola, ",a,"! ğŸ‘‹"]})]})]}),e.jsx(n.div,{className:"text-sm text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:new Date().toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})})]})})}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:e.jsx(Ve,{})}),e.jsx(ha,{}),e.jsx(S,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx(n.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 relative",children:[e.jsx(n.div,{className:"absolute -top-10 left-1/2 transform -translate-x-1/2",animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-4xl",children:"âœ¨"})})}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Â¡Bienvenido a Daylo!"}),e.jsx("p",{className:"text-gray-600",children:"Tu diario personal en la nube"})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CÃ³mo te llamas?"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),onKeyPress:f=>{var y;return f.key==="Enter"&&((y=document.getElementById("email-input"))==null?void 0:y.focus())},placeholder:"Tu nombre",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CuÃ¡l es tu correo?"}),e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{id:"email-input",type:"email",value:l,onChange:f=>{u(f.target.value),h("")},onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"tu@correo.com",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg"})]})]}),x&&e.jsx(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-600 text-sm text-center",children:x}),e.jsx(n.button,{onClick:c,disabled:!i.trim()||!l.trim()||g,className:"w-full py-4 rounded-2xl font-bold text-lg bg-gradient-to-r from-pastel-pink to-pastel-purple text-gray-800 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:i.trim()&&l.trim()&&!g?1.02:1},whileTap:{scale:i.trim()&&l.trim()&&!g?.98:1},children:g?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(n.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"â³"}),"Verificando..."]}):"âœ¨ Comenzar"})]}),e.jsx("p",{className:"mt-6 text-xs text-center text-gray-500",children:"Tus datos se guardan de forma segura en Firebase"})]})})]})}),"    "]})}const ga=p.lazy(()=>Ee(()=>import("./Dashboard-C84bUj5q.js"),__vite__mapDeps([0,1,2,3,4,5]))),fa=p.lazy(()=>Ee(()=>import("./Profile-CubDWL7d.js"),__vite__mapDeps([6,1,2,3,5])));function ba(){return e.jsx(Ge,{children:e.jsx(Je,{children:e.jsxs(F,{path:"/",element:e.jsx(ya,{}),children:[e.jsx(F,{index:!0,element:e.jsx(Ke,{to:"/hoy",replace:!0})}),e.jsx(F,{path:"hoy",element:e.jsx(pa,{})}),e.jsx(F,{path:"dashboard",element:e.jsx(p.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(ga,{})})}),e.jsx(F,{path:"perfil",element:e.jsx(p.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(fa,{})})})]})})})}J.createRoot(document.getElementById("root")).render(e.jsx(fe.StrictMode,{children:e.jsx(ba,{})}));export{R as f,Ea as g};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-B4qoG4d6.js","assets/animation-ClZgCcJJ.js","assets/react-vendor-BAfStBEd.js","assets/icons-BOL9ilcp.js","assets/charts-BCRNSYNv.js","assets/firebase-DpXdI3fe.js","assets/Profile-kC-UnHcZ.js"])))=>i.map(i=>d[i]);
import{j as e,m as n,A as T}from"./animation-ClZgCcJJ.js";import{a as We,r as h,g as Qe,R as Ne,N as Je,O as Ge,H as Ke,b as Ye,d as V,e as Xe}from"./react-vendor-BAfStBEd.js";import{H as re,P as Ze,U as et,M as tt,B as at,a as st,D as rt,b as we,c as it,d as ue,X as ie,C as ne,e as X,f as Se,g as Ee,S as F,h as nt,i as xe,j as pe,k as ke,l as he,m as ot,n as lt,T as ct,o as dt,p as De,L as mt,q as ut}from"./icons-BOL9ilcp.js";import{i as xt,g as pt,c as Te,q as Ce,w as ee,o as Ie,a as Ae,d as J,b as $e,s as He,T as te}from"./firebase-DpXdI3fe.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var ae={},ge=We;ae.createRoot=ge.createRoot,ae.hydrateRoot=ge.hydrateRoot;const ht="modulepreload",gt=function(r){return"/daylo-app/"+r},ye={},oe=function(s,t,i){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(t.map(u=>{if(u=gt(u),u in ye)return;ye[u]=!0;const N=u.endsWith(".css"),b=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${b}`))return;const g=document.createElement("link");if(g.rel=N?"stylesheet":ht,N||(g.as="script"),g.crossOrigin="",g.href=u,d&&g.setAttribute("nonce",d),document.head.appendChild(g),N)return new Promise((c,j)=>{g.addEventListener("load",c),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return a.then(o=>{for(const d of o||[])d.status==="rejected"&&l(d.reason);return s().catch(l)})},yt={},fe=r=>{let s;const t=new Set,i=(b,g)=>{const c=typeof b=="function"?b(s):b;if(!Object.is(c,s)){const j=s;s=g??(typeof c!="object"||c===null)?c:Object.assign({},s,c),t.forEach(p=>p(s,j))}},a=()=>s,u={setState:i,getState:a,getInitialState:()=>N,subscribe:b=>(t.add(b),()=>t.delete(b)),destroy:()=>{(yt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},N=s=r(i,a,u);return u},ft=r=>r?fe(r):fe;var Oe={exports:{}},_e={},ze={exports:{}},Pe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M=h;function bt(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var jt=typeof Object.is=="function"?Object.is:bt,vt=M.useState,Nt=M.useEffect,wt=M.useLayoutEffect,St=M.useDebugValue;function Et(r,s){var t=s(),i=vt({inst:{value:t,getSnapshot:s}}),a=i[0].inst,l=i[1];return wt(function(){a.value=t,a.getSnapshot=s,Z(a)&&l({inst:a})},[r,t,s]),Nt(function(){return Z(a)&&l({inst:a}),r(function(){Z(a)&&l({inst:a})})},[r]),St(t),t}function Z(r){var s=r.getSnapshot;r=r.value;try{var t=s();return!jt(r,t)}catch{return!0}}function kt(r,s){return s()}var Dt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kt:Et;Pe.useSyncExternalStore=M.useSyncExternalStore!==void 0?M.useSyncExternalStore:Dt;ze.exports=Pe;var Tt=ze.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=h,Ct=Tt;function It(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var At=typeof Object.is=="function"?Object.is:It,$t=Ct.useSyncExternalStore,Ht=G.useRef,Ot=G.useEffect,_t=G.useMemo,zt=G.useDebugValue;_e.useSyncExternalStoreWithSelector=function(r,s,t,i,a){var l=Ht(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=_t(function(){function u(j){if(!N){if(N=!0,b=j,j=i(j),a!==void 0&&o.hasValue){var p=o.value;if(a(p,j))return g=p}return g=j}if(p=g,At(b,j))return p;var x=i(j);return a!==void 0&&a(p,x)?(b=j,p):(b=j,g=x)}var N=!1,b,g,c=t===void 0?null:t;return[function(){return u(s())},c===null?void 0:function(){return u(c())}]},[s,t,i,a]);var d=$t(r,l[0],l[1]);return Ot(function(){o.hasValue=!0,o.value=d},[d]),zt(d),d};Oe.exports=_e;var Pt=Oe.exports;const Ft=Qe(Pt),Fe={},{useDebugValue:Mt}=Ne,{useSyncExternalStoreWithSelector:qt}=Ft;let be=!1;const Lt=r=>r;function Rt(r,s=Lt,t){(Fe?"production":void 0)!=="production"&&t&&!be&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),be=!0);const i=qt(r.subscribe,r.getState,r.getServerState||r.getInitialState,s,t);return Mt(i),i}const je=r=>{(Fe?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof r=="function"?ft(r):r,t=(i,a)=>Rt(s,i,a);return Object.assign(t,s),t},Ut=r=>r?je(r):je,C=Ut((r,s)=>({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,isModalOpen:!1,hasCompletedCheckIn:!1,lastActiveDate:new Date().toISOString().split("T")[0],activityHistory:JSON.parse(localStorage.getItem("daylo-activity-history")||"[]"),timeHistory:JSON.parse(localStorage.getItem("daylo-time-history")||"[]"),addActivity:t=>{r(i=>{const a=[...i.selectedActivities,t],l=a.reduce((o,d)=>o+d.duration,0);return s().logActivity(t),s().logTime(t),{selectedActivities:a,totalMinutes:l,currentEntry:{...i.currentEntry,activities:a}}})},removeActivity:t=>{r(i=>{const a=i.selectedActivities.filter(o=>o.id!==t),l=a.reduce((o,d)=>o+d.duration,0);return{selectedActivities:a,totalMinutes:l,currentEntry:{...i.currentEntry,activities:a}}})},updateActivityDuration:(t,i)=>{r(a=>{const l=a.selectedActivities.map(d=>{if(d.id===t){const u={...d,duration:i};return s().logTime(u),u}return d}),o=l.reduce((d,u)=>d+u.duration,0);return{selectedActivities:l,totalMinutes:o,currentEntry:{...a.currentEntry,activities:l}}})},updateActivityFacets:(t,i,a)=>{r(l=>{const o=l.selectedActivities.map(d=>{if(d.id===t){const u={...d,facets:i,notes:a};return s().logActivity(u),u}return d});return{selectedActivities:o,currentEntry:{...l.currentEntry,activities:o}}})},updateActivityEnergy:(t,i)=>{r(a=>{const l=a.selectedActivities.map(o=>o.id===t?{...o,energyImpact:i}:o);return{selectedActivities:l,currentEntry:{...a.currentEntry,activities:l}}})},setReflection:t=>{r(i=>({currentEntry:{...i.currentEntry,reflection:{...i.currentEntry.reflection,...t}}}))},addTask:(t,i=!1,a=!1)=>{r(l=>{const o={id:Date.now().toString(),text:t,completed:!1,createdAt:new Date,isPriority:i,isPersonal:a},d=[...l.currentEntry.tasks||[],o];return{currentEntry:{...l.currentEntry,tasks:d}}})},toggleTask:t=>{r(i=>{const a=(i.currentEntry.tasks||[]).map(l=>l.id===t?{...l,completed:!l.completed}:l);return{currentEntry:{...i.currentEntry,tasks:a}}})},removeTask:t=>{r(i=>{const a=(i.currentEntry.tasks||[]).filter(l=>l.id!==t);return{currentEntry:{...i.currentEntry,tasks:a}}})},setEmotionalCheckIn:t=>{r(i=>({currentEntry:{...i.currentEntry,emotionalCheckIn:t}}))},setDayIntention:t=>{r(i=>({currentEntry:{...i.currentEntry,dayIntention:t}}))},setDayStory:t=>{r(i=>({currentEntry:{...i.currentEntry,dayStory:t}}))},completeCheckIn:()=>{r({hasCompletedCheckIn:!0});const t=new Date().toISOString().split("T")[0];localStorage.setItem("daylo-last-checkin",t)},setDiaryNote:t=>{r(i=>({currentEntry:{...i.currentEntry,diaryNote:t}}))},saveEntry:()=>{const i={...s().currentEntry,id:Date.now().toString(),date:new Date},a=JSON.parse(localStorage.getItem("daylo-entries")||"[]");a.push(i),localStorage.setItem("daylo-entries",JSON.stringify(a)),s().resetEntry()},resetEntry:()=>{const t=new Date().toISOString().split("T")[0];r({currentEntry:{date:new Date,activities:[],tasks:[],diaryNote:"",emotionalCheckIn:void 0,dayIntention:void 0,dayStory:void 0,reflection:{highlights:"",mood:"ğŸ˜Š",dayRating:3}},selectedActivities:[],totalMinutes:0,hasCompletedCheckIn:!1,lastActiveDate:t}),localStorage.removeItem("daylo-last-checkin")},checkAndResetIfNewDay:()=>{const t=s(),i=new Date().toISOString().split("T")[0];return(t.lastActiveDate||i)!==i?(console.log("ğŸŒ… Nuevo dÃ­a detectado - reseteando datos"),s().resetEntry(),!0):!1},autoSave:async()=>{const t=s(),i=new Date().toISOString().split("T")[0];r({lastActiveDate:i});const a={id:t.currentEntry.id||Date.now().toString(),date:new Date,activities:t.selectedActivities,tasks:t.currentEntry.tasks||[],diaryNote:t.currentEntry.diaryNote||"",emotionalCheckIn:t.currentEntry.emotionalCheckIn,dayIntention:t.currentEntry.dayIntention,dayStory:t.currentEntry.dayStory,reflection:t.currentEntry.reflection},l=JSON.parse(localStorage.getItem("daylo-entries")||"[]"),o=l.findIndex(d=>new Date(d.date).toISOString().split("T")[0]===i);o>=0?l[o]=a:l.push(a),localStorage.setItem("daylo-entries",JSON.stringify(l));try{const{saveDailyEntry:d}=await oe(async()=>{const{saveDailyEntry:u}=await Promise.resolve().then(()=>ca);return{saveDailyEntry:u}},void 0);await d(a),console.log("âœ… Auto-guardado en Firebase exitoso")}catch(d){console.error("âš ï¸ Error auto-guardando en Firebase (datos seguros en local):",d)}},setModalOpen:t=>{r({isModalOpen:t})},logActivity:t=>{const i={id:Date.now().toString(),activityIcon:t.icon,activityLabel:t.label,duration:t.duration,facets:t.facets,notes:t.notes,energyImpact:t.energyImpact,timestamp:new Date,date:new Date().toISOString().split("T")[0]};r(a=>{const l=[...a.activityHistory,i];return localStorage.setItem("daylo-activity-history",JSON.stringify(l)),{activityHistory:l}})},logTime:t=>{const i={id:Date.now().toString(),activityIcon:t.icon,activityLabel:t.label,duration:t.duration,timestamp:new Date,date:new Date().toISOString().split("T")[0]};r(a=>{const l=[...a.timeHistory,i];return localStorage.setItem("daylo-time-history",JSON.stringify(l)),{timeHistory:l}})},getActivityHistory:(t=30)=>{const i=s(),a=new Date;return a.setDate(a.getDate()-t),i.activityHistory.filter(l=>new Date(l.date)>=a)},getTimeHistory:(t=30)=>{const i=s(),a=new Date;return a.setDate(a.getDate()-t),i.timeHistory.filter(l=>new Date(l.date)>=a)}})),Bt=[{id:"work",label:"Productividad",color:"#C4E5FF",defaultDuration:360},{id:"study",label:"Estudio",color:"#E8D4FF",defaultDuration:240},{id:"home",label:"Hogar",color:"#FFD4E5",defaultDuration:180},{id:"exercise",label:"Ejercicio",color:"#D4FFE5",defaultDuration:60},{id:"social",label:"Social",color:"#FFE5D4",defaultDuration:120},{id:"hobbies",label:"Hobbies",color:"#FFF4D4",defaultDuration:90},{id:"food",label:"Comida",color:"#FFE5D4",defaultDuration:90},{id:"sleep",label:"Descanso",color:"#E8D4FF",defaultDuration:480},{id:"health",label:"Salud",color:"#D4FFE5",defaultDuration:60}],Vt={work:[{id:"progress",label:"Â¿Avanzaste en algo importante?",type:"boolean",emoji:"â­"},{id:"control",label:"Â¿Te sentiste en control?",type:"boolean",emoji:"ğŸ®"},{id:"work_value",label:"Â¿Valor de lo realizado?",type:"rating",emoji:"ğŸ’"}],study:[{id:"learned_new",label:"Â¿Aprendiste algo nuevo?",type:"boolean",emoji:"ğŸ’¡"},{id:"can_explain",label:"Â¿PodrÃ­as explicarlo?",type:"boolean",emoji:"ğŸ—£ï¸"},{id:"usefulness",label:"Â¿QuÃ© tan Ãºtil fue?",type:"rating",emoji:"ğŸ¯"}],home:[{id:"space_better",label:"Â¿Tu espacio estÃ¡ mejor?",type:"boolean",emoji:"ğŸ¡"},{id:"did_necessary",label:"Â¿Hiciste lo necesario?",type:"boolean",emoji:"âœ”ï¸"},{id:"how_feel",label:"Â¿CÃ³mo te sientes ahora?",type:"rating",emoji:"ğŸ’­"}],exercise:[{id:"healthy_challenge",label:"Â¿Te desafiaste sanamente?",type:"boolean",emoji:"ğŸ¯"},{id:"pain_discomfort",label:"Â¿Dolor o molestia?",type:"boolean",emoji:"ğŸ©¹"},{id:"enjoyed",label:"Â¿Disfrutaste la actividad?",type:"boolean",emoji:"ğŸ‰"}],social:[{id:"authentic",label:"Â¿ConversaciÃ³n autÃ©ntica?",type:"boolean",emoji:"ğŸ’¬"},{id:"emotional_impact",label:"Â¿Impacto emocional?",type:"rating",emoji:"â¤ï¸"},{id:"added_value",label:"Â¿AgregÃ³ valor a tu dÃ­a?",type:"boolean",emoji:"âœ¨"}],hobbies:[{id:"lost_track_time",label:"Â¿Perdiste nociÃ³n del tiempo?",type:"boolean",emoji:"â°"},{id:"enjoyed_process",label:"Â¿Disfrutaste el proceso?",type:"boolean",emoji:"ğŸ˜Š"},{id:"recharged",label:"Â¿Te recargÃ³ energÃ­a?",type:"boolean",emoji:"âš¡"}],food:[{id:"nourished_well",label:"Â¿Te nutriste bien?",type:"boolean",emoji:"ğŸ¥—"},{id:"taste_quality",label:"Â¿Sabor y presentaciÃ³n?",type:"rating",emoji:"ğŸ˜‹"},{id:"listened_body",label:"Â¿Escuchaste tu cuerpo?",type:"boolean",emoji:"ğŸ’š"}],sleep:[{id:"hours_amount",label:"Â¿Cantidad de horas?",type:"rating",emoji:"â±ï¸"},{id:"slept_deeply",label:"Â¿Dormiste profundamente?",type:"boolean",emoji:"ğŸ’¤"},{id:"ready_for_day",label:"Â¿Listo para el dÃ­a?",type:"boolean",emoji:"â˜€ï¸"}],health:[{id:"physical_feeling",label:"Â¿CÃ³mo te sientes fÃ­sicamente?",type:"rating",emoji:"ğŸ’ª"},{id:"health_stable",label:"Â¿Tu salud estÃ¡ estable?",type:"boolean",emoji:"ğŸ“Š"},{id:"did_something",label:"Â¿Hiciste algo por tu salud?",type:"boolean",emoji:"ğŸŒ±"}]},Wt=r=>{const t=[...Vt[r]||[]];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},Q=r=>{const s=Math.floor(r/60),t=r%60;return s===0?`${t}m`:t===0?`${s}h`:`${s}h ${t}m`},Qt={work:it,home:we,exercise:rt,social:st,study:at,sleep:tt,food:et,hobbies:Ze,health:re};function se({type:r,size:s=32,animate:t=!1,color:i="#667085"}){const a=Qt[r];return e.jsx(n.div,{initial:t?{scale:0,rotate:-180}:{},animate:t?{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20}}:{},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},children:e.jsx(a,{size:s,color:i,strokeWidth:2.5})})}function Jt({activity:r,isSelected:s,onToggle:t}){const[i,a]=h.useState(!1);return e.jsxs(n.button,{onClick:t,onTapStart:()=>a(!0),onTap:()=>a(!1),onTapCancel:()=>a(!1),className:`daylo-icon-card w-full aspect-square ${s?"selected":""}`,style:{backgroundColor:s?r.color:`${r.color}40`,borderColor:r.color},whileHover:{scale:1.05},whileTap:{scale:.95},animate:s?{boxShadow:[`0 0 0 0 ${r.color}40`,`0 0 0 8px ${r.color}00`]}:{},transition:{duration:.3},children:[e.jsx(n.div,{animate:s?{scale:[1,1.2,1],rotate:[0,10,-10,0]}:{},transition:{duration:.5},children:e.jsx(se,{type:r.id,size:40,animate:i,color:s?"#374151":"#6B7280"})}),e.jsx("span",{className:"text-sm font-semibold mt-2 text-gray-700",children:r.label}),s&&e.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg",children:"âœ“"})]})}function Gt({label:r,value:s,onChange:t,min:i=0,max:a=720,step:l=15,color:o="#C4E5FF",icon:d}){const[u,N]=h.useState(!1),[b,g]=h.useState(!1),[c,j]=h.useState(!0),p=(s-i)/(a-i)*100;h.useEffect(()=>{const v=setTimeout(()=>j(!1),5e3);return()=>clearTimeout(v)},[]);const x=v=>{t(v),b||(g(!0),j(!1))},m=()=>{N(!0),j(!1),g(!0)},w=()=>{N(!1)};return e.jsxs(n.div,{className:"w-full space-y-3 relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[d&&e.jsx("div",{className:"text-gray-600",children:d}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:r}),e.jsx(T,{children:c&&!b&&e.jsxs(n.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-1 mt-1",children:[e.jsx(ue,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:"text-[10px] text-purple-600 font-medium",children:"Desliza para ajustar"})]})})]})]}),e.jsx(n.div,{className:"flex items-center gap-2",animate:u?{scale:[1,1.1,1]}:{},transition:{duration:.3},children:e.jsx(n.span,{className:"text-2xl font-black bg-gradient-to-r from-gray-700 to-gray-900 bg-clip-text text-transparent",animate:u?{scale:[1,1.15,1]}:{},children:Q(s)})})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative h-8 bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 rounded-full overflow-visible shadow-inner",children:[Array.from({length:Math.floor(a/60)+1}).map((v,A)=>{const O=A*60/a*100;return O>100?null:e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-300",style:{left:`${O}%`},children:e.jsxs("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 text-[9px] text-gray-400 font-medium",children:[A,"h"]})},A)}),e.jsx(n.div,{className:"absolute top-0 bottom-0 left-0 rounded-full shadow-md",style:{width:`${p}%`,background:`linear-gradient(90deg, ${o}, ${o}dd)`},initial:!1,animate:{width:`${p}%`},transition:{type:"spring",stiffness:300,damping:30},children:e.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 rounded-full",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),e.jsx("input",{type:"range",min:i,max:a,step:l,value:s,onChange:v=>x(Number(v.target.value)),onMouseDown:m,onMouseUp:w,onTouchStart:m,onTouchEnd:w,className:"absolute w-full h-full opacity-0 cursor-grab active:cursor-grabbing z-10",style:{margin:0}}),e.jsxs(n.div,{className:"absolute top-1/2 -translate-y-1/2 pointer-events-none z-20",style:{left:`${p}%`,transform:"translate(-50%, -50%)"},animate:{scale:u?1.4:c&&!b?[1,1.1,1]:1},transition:{scale:c&&!b?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{duration:.2}},children:[e.jsx(n.div,{className:"absolute inset-0 rounded-full",style:{backgroundColor:o},animate:{scale:u?[1,1.8,1]:1,opacity:u?[.3,0,.3]:.3},transition:{duration:.6,repeat:u?1/0:0}}),e.jsx("div",{className:"relative w-7 h-7 rounded-full shadow-xl border-4 border-white flex items-center justify-center",style:{backgroundColor:o},children:e.jsx(T,{children:c&&!b&&e.jsx(n.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},children:e.jsx(ue,{className:"w-3 h-3 text-white"})})})})]})]})}),e.jsxs("div",{className:"flex justify-between text-xs font-medium px-1",children:[e.jsx("span",{className:"text-gray-500",children:Q(i)}),e.jsx("span",{className:"text-gray-400",children:Q(a/2)}),e.jsx("span",{className:"text-gray-500",children:Q(a)})]}),u&&e.jsx(n.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-center",children:e.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"ğŸ‘ Ajustando tiempo..."})})]})}function Kt({isOpen:r,onClose:s,children:t,color:i,title:a}){return e.jsx(T,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40"}),e.jsx(n.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-x-0 bottom-0 z-50 flex flex-col max-h-[85vh]",children:e.jsxs("div",{className:"bg-white rounded-t-3xl shadow-2xl flex flex-col overflow-hidden",style:{borderTopColor:i,borderTopWidth:"4px",height:"100%"},children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),e.jsxs("div",{className:"flex items-center justify-between px-6 pb-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a}),e.jsx(n.button,{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(ie,{size:24,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1 pb-32 overscroll-contain",children:t})]})})]})})}function Yt({emoji:r,label:s,value:t,onChange:i,color:a}){const l=[1,2,3,4,5];return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:r}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:s})]}),e.jsx("div",{className:"flex justify-between gap-2",children:l.map(o=>e.jsx(n.button,{onClick:()=>i(o),className:`w-full py-3 rounded-xl font-bold text-lg transition-all ${t===o?"shadow-lg scale-105":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,style:{backgroundColor:t===o?a:void 0,color:t===o?"#374151":void 0},whileHover:{scale:t===o?1.05:1.02},whileTap:{scale:.95},children:o},o))}),e.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Bajo"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Alto"})]})]})}function Xt({emoji:r,label:s,value:t,onChange:i,color:a}){return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-5 shadow-md border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:r}),e.jsx("h3",{className:"text-base font-semibold text-gray-700 flex-1",children:s})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(n.button,{onClick:()=>i(!0),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${t===!0?"shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,style:{backgroundColor:t===!0?a:void 0,color:t===!0?"#374151":void 0},whileHover:{scale:t===!0?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(ne,{size:20,strokeWidth:3}),"SÃ­"]}),e.jsxs(n.button,{onClick:()=>i(!1),className:`flex-1 py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${t===!1?"bg-gray-300 text-gray-700 shadow-lg scale-105":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,whileHover:{scale:t===!1?1.05:1.02},whileTap:{scale:.95},children:[e.jsx(ie,{size:20,strokeWidth:3}),"No"]})]})]})}function Zt({timeContext:r}){const[s,t]=h.useState(""),[i,a]=h.useState(""),[l,o]=h.useState(!1),[d,u]=h.useState(null),{currentEntry:N,addTask:b,toggleTask:g,removeTask:c,autoSave:j}=C(),p=N.tasks||[],x=p.filter(f=>f.isPriority&&!f.isPersonal),m=p.find(f=>f.isPersonal),w=p.filter(f=>!f.isPriority&&!f.isPersonal),v=async f=>{if(f.preventDefault(),s.trim()&&!l){o(!0);try{const k=x.length<3&&r==="morning";b(s.trim(),k,!1),t(""),await new Promise(W=>setTimeout(W,100)),await j(),console.log("âœ… Tarea agregada y guardada")}catch(k){console.error("âŒ Error guardando tarea:",k)}finally{o(!1)}}},A=async f=>{if(f.preventDefault(),i.trim()&&!m&&!l){o(!0);try{b(i.trim(),!1,!0),a(""),await new Promise(k=>setTimeout(k,100)),await j(),console.log("âœ… AcciÃ³n personal agregada y guardada")}catch(k){console.error("âŒ Error guardando acciÃ³n:",k)}finally{o(!1)}}},O=async f=>{if(!d){u(f);try{g(f),await new Promise(k=>setTimeout(k,100)),await j(),console.log("âœ… Tarea marcada y guardada")}catch(k){console.error("âŒ Error guardando cambio de tarea:",k)}finally{u(null)}}},L=async f=>{if(!d){u(f);try{c(f),await new Promise(k=>setTimeout(k,100)),await j(),console.log("âœ… Tarea eliminada y guardada")}catch(k){console.error("âŒ Error eliminando tarea:",k)}finally{u(null)}}},I=p.filter(f=>f.completed).length,Y=p.length>0?I/p.length*100:0,R=r==="morning"?{title:"âœ¨ Â¿QuÃ© quieres lograr hoy?",subtitle:"Planifica tus intenciones para el dÃ­a",placeholder:"Ej: Terminar reporte, hacer ejercicio..."}:r==="afternoon"?p.length===0?{title:"ğŸ“‹ Â¿QuÃ© hiciste hoy?",subtitle:"Registra las cosas que realizaste",placeholder:"Ej: ReuniÃ³n con equipo, almorzar con amigos..."}:{title:"ğŸ¯ Â¿QuÃ© lograste hoy?",subtitle:"Marca lo que ya completaste",placeholder:"Ej: CompletÃ© el proyecto..."}:{title:"ğŸ“ Resumen de tu dÃ­a",subtitle:"Revisa lo que lograste",placeholder:"Ej: DÃ­a productivo..."},U=x.length<3,z=f=>e.jsxs(n.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,x:-100},className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${f.completed?"bg-green-50 border-green-200":f.isPriority?"bg-purple-50 border-purple-200 hover:border-purple-300":f.isPersonal?"bg-pink-50 border-pink-200 hover:border-pink-300":"bg-gray-50 border-gray-200 hover:border-purple-300"}`,children:[e.jsx("button",{onClick:()=>O(f.id),disabled:d===f.id,className:`flex-shrink-0 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all relative ${f.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-purple-400"} ${d===f.id?"opacity-70 cursor-not-allowed":""}`,children:d===f.id?e.jsx(n.div,{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}):f.completed?e.jsx(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:e.jsx(ne,{className:"w-4 h-4 text-white",strokeWidth:3})}):null}),e.jsx("span",{className:`flex-1 text-sm ${f.completed?"line-through text-gray-400":"text-gray-700 font-medium"}`,children:f.text}),e.jsx("button",{onClick:()=>L(f.id),disabled:d===f.id,className:`flex-shrink-0 w-6 h-6 rounded-lg hover:bg-red-100 flex items-center justify-center text-gray-400 hover:text-red-500 transition-colors ${d===f.id?"opacity-50 cursor-not-allowed":""}`,children:e.jsx(ie,{className:"w-4 h-4"})})]},f.id);return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6",children:[r==="morning"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ¯ MÃ¡ximo 3 prioridades"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Menos es mÃ¡s. EnfÃ³cate en lo que realmente importa"})]}),x.length>=3&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-lg font-medium",children:"Completo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{mode:"popLayout",children:x.map(z)}),x.length===0&&e.jsx("div",{className:"text-center py-6 border-2 border-dashed border-purple-200 rounded-xl bg-purple-50/30",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© 3 cosas moverÃ­an la aguja hoy?"})})]}),U&&e.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:f=>t(f.target.value),placeholder:`Prioridad ${x.length+1}...`,className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm bg-purple-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5"})})]}),!U&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 bg-purple-50 rounded-xl border border-purple-200",children:e.jsx("p",{className:"text-xs text-purple-700 text-center",children:"âœ¨ Perfecto. MÃ¡s de 3 prioridades reduce tu probabilidad de completarlas en 50%"})})]}),r==="morning"&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"ğŸ’š 1 AcciÃ³n para ti"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:'Algo que cuide tu bienestar, aunque "no sea productivo"'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{mode:"popLayout",children:m&&z(m)}),!m&&e.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-pink-200 rounded-xl bg-pink-50/30",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Â¿QuÃ© te harÃ­a bien hoy?"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Caminar, descansar, llamar a alguien..."})]})]}),!m&&e.jsxs("form",{onSubmit:A,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:f=>a(f.target.value),placeholder:"Ej: Caminar 10 min, desconectar...",className:"flex-1 px-4 py-2.5 rounded-xl border-2 border-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent text-sm bg-pink-50/30",maxLength:100}),e.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5"})})]})]}),(r!=="morning"||w.length>0)&&e.jsxs("div",{className:"space-y-3 border-t-2 border-gray-100 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:R.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:R.subtitle})]}),p.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[I,"/",p.length]})]}),p.length>0&&e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${Y}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-purple-400 to-pink-400"})}),e.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[e.jsx(T,{mode:"popLayout",children:r==="morning"?w.map(z):p.map(z)}),p.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx("p",{className:"text-sm",children:"AÃºn no hay tareas"}),e.jsx("p",{className:"text-xs mt-1",children:r==="morning"?"Â¡Comienza a planificar tu dÃ­a!":"Â¿QuÃ© hiciste hoy?"})]})]}),r!=="morning"&&e.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:f=>t(f.target.value),placeholder:R.placeholder,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5"})})]})]}),p.length>0&&I===p.length&&e.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:e.jsx("p",{className:"text-sm text-green-700 font-medium text-center",children:"ğŸ‰ Â¡Completaste todas tus tareas! Â¡Excelente trabajo!"})})]})}function ea({timeContext:r}){const{currentEntry:s,setDiaryNote:t,autoSave:i}=C(),a=s.diaryNote||"",[l,o]=h.useState(!1),[d,u]=h.useState(!1),[N,b]=h.useState(!1);h.useEffect(()=>{if(a){const m=setTimeout(()=>{i()},1e3);return()=>clearTimeout(m)}},[a,i]);const g=async()=>{u(!0);try{await i(),b(!0),setTimeout(()=>b(!1),2e3)}catch(m){console.error("Error guardando nota:",m)}finally{u(!1)}},j=r==="morning"?{title:"ğŸ“ Notas para hoy",placeholder:`Anota lo que quieras: ideas, intenciones, cÃ³mo te sientes, recordatorios...

Este es tu espacio libre para escribir lo que necesites.`,emoji:"âœ¨"}:r==="afternoon"?{title:"ğŸ“ Notas del dÃ­a",placeholder:`Escribe lo que quieras: pensamientos, ideas, algo que pasÃ³, cÃ³mo te sientes...

Sin lÃ­mites, sin filtros. Tu espacio personal.`,emoji:"ğŸ’­"}:{title:"ğŸ“ Notas del dÃ­a",placeholder:`AquÃ­ puedes escribir lo que quieras: reflexiones, versos, ideas sueltas, lo que viviste...

Tu espacio seguro para expresarte.`,emoji:"ğŸ“–"},p=a.length,x=1e3;return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border-2 border-purple-200 overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>o(!l),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:j.title}),e.jsx("p",{className:"text-sm text-purple-600",children:a?`${a.split(/\s+/).filter(m=>m.length>0).length} palabras escritas`:"Tu espacio personal"})]})]}),e.jsx(n.div,{animate:{rotate:l?180:0},transition:{duration:.3},children:e.jsx(Ee,{className:"w-6 h-6 text-purple-500"})})]}),e.jsx(T,{children:l&&e.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t-2 border-purple-100",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50/50 to-pink-50/50",children:[!a&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 p-3 bg-white/80 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-purple-700",children:[r==="morning"&&"Comenzar el dÃ­a escribiendo tus pensamientos te ayuda a tener claridad mental",r==="afternoon"&&"Tomarte un momento para reflexionar puede cambiar el rumbo de tu dÃ­a",r==="evening"&&"Escribir antes de dormir te ayuda a procesar el dÃ­a y descansar mejor"]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:a,onChange:m=>t(m.target.value),placeholder:j.placeholder,maxLength:x,className:"w-full h-56 p-4 rounded-xl border-2 border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm text-gray-700 placeholder:text-gray-400 bg-white",style:{lineHeight:"1.6"}}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400 bg-white px-2 py-1 rounded-lg",children:[p,"/",x]})]}),a&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 flex justify-between text-xs text-purple-600 px-2",children:[e.jsxs("span",{children:[a.split(/\s+/).filter(m=>m.length>0).length," palabras"]}),e.jsxs("span",{children:[a.split(`
`).length," lÃ­neas"]})]}),e.jsx(n.button,{onClick:g,disabled:d||!a,className:`mt-4 w-full py-3 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 ${N?"bg-green-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"}`,whileHover:!d&&a?{scale:1.02}:{},whileTap:!d&&a?{scale:.98}:{},children:N?e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:18}),e.jsx("span",{children:"Â¡Guardado!"})]}):d?e.jsxs(e.Fragment,{children:[e.jsx(n.div,{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),e.jsx("span",{children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{size:18}),e.jsx("span",{children:"Guardar Notas"})]})})]})})})]})}const ve=[{emoji:"ğŸ˜Š",label:"Bien",color:"#D4FFE5"},{emoji:"ğŸ˜°",label:"Ansioso/a",color:"#FFE5D4"},{emoji:"ğŸ˜´",label:"Cansado/a",color:"#E8D4FF"},{emoji:"ğŸ˜¤",label:"Abrumado/a",color:"#FFD4E5"},{emoji:"ğŸ¤—",label:"Motivado/a",color:"#FFF4D4"},{emoji:"ğŸ˜",label:"Neutral",color:"#E8E8E8"}];function ta({onComplete:r}){var w;const{setEmotionalCheckIn:s,setDayIntention:t,autoSave:i}=C(),[a,l]=h.useState(1),[o,d]=h.useState(""),[u,N]=h.useState(""),[b,g]=h.useState(""),[c,j]=h.useState(""),p=async()=>{a===1&&o?(s({feeling:o,mentalNoise:u||void 0,needsToday:b||void 0}),await i(),l(2)):a===2&&c&&(t(c),await new Promise(v=>setTimeout(v,100)),await i(),console.log("âœ… IntenciÃ³n guardada:",c),r())},x=o!=="",m=c.trim()!=="";return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-purple-100/90 to-pink-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-xl flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a===1?"â˜€ï¸ Antes de empezar...":"ğŸ¯ Tu intenciÃ³n de hoy"}),e.jsxs("p",{className:"text-xs text-purple-600",children:["Paso ",a," de 2"]})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(T,{mode:"wait",children:[a===1&&e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Tomarte un momento para reconocer cÃ³mo te sientes te ayuda a regular tus emociones antes de actuar"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"ğŸ’­ Â¿CÃ³mo te sientes ahora mismo?"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:ve.map(v=>e.jsxs(n.button,{onClick:()=>d(v.label),className:`p-3 rounded-xl border-2 transition-all ${o===v.label?"border-purple-400 shadow-md scale-105":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:o===v.label?v.color:"white"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("div",{className:"text-2xl mb-1",children:v.emoji}),e.jsx("div",{className:"text-xs font-medium text-gray-700",children:v.label})]},v.label))})]}),o&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸ’­ Â¿Hay algo que te preocupa? ",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("textarea",{value:u,onChange:v=>N(v.target.value),placeholder:"Ej: El proyecto, una decisiÃ³n pendiente, algo que no puedo dejar de pensar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:2})]}),o&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{delay:.1},className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:"ğŸ’š Â¿QuÃ© necesitas hoy para estar bien?"}),e.jsx("input",{type:"text",value:b,onChange:v=>g(v.target.value),placeholder:"Ej: Calma, tiempo para mÃ­, desconectar, energÃ­a...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm"})]})]},"step1"),a===2&&e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Te sientes:"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[(w=ve.find(v=>v.label===o))==null?void 0:w.emoji," ",o]}),b&&e.jsxs("p",{className:"text-sm text-purple-700 mt-2",children:["ğŸ’š Necesitas: ",b]})]}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Una intenciÃ³n clara cambia cÃ³mo vives todo el dÃ­a. No es una tarea, es tu brÃºjula."})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:"âœ¨ Â¿CuÃ¡l es tu intenciÃ³n para hoy?"}),e.jsx("textarea",{value:c,onChange:v=>j(v.target.value),placeholder:"Ej: Hoy quiero avanzar con calma\\nHoy quiero cuidar mi energÃ­a\\nHoy quiero estar presente...",className:"w-full p-4 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none text-sm",rows:4,autoFocus:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:'ğŸ’¡ No es "quÃ© tienes que hacer", sino "cÃ³mo quieres sentirte" o "quÃ© quieres lograr"'})]})]},"step2")]})})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[a===2&&e.jsx(n.button,{onClick:()=>l(1),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"AtrÃ¡s"}),e.jsx(n.button,{onClick:p,disabled:a===1?!x:!m,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${(a===1?x:m)?"bg-gradient-to-r from-purple-400 to-pink-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:(a===1?x:m)?{scale:1.02}:{},whileTap:(a===1?x:m)?{scale:.98}:{},children:a===1?"Continuar":"Comenzar mi dÃ­a âœ¨"})]})})]})})}function aa({onComplete:r}){const{setDayStory:s,autoSave:t}=C(),[i,a]=h.useState(""),[l,o]=h.useState(""),[d,u]=h.useState(""),N=async()=>{s({howStarted:i,mostSignificant:l,howClosing:d}),await new Promise(g=>setTimeout(g,100)),await t(),console.log("âœ… Historia del dÃ­a guardada"),r()},b=l.trim()!=="";return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-indigo-100/90 to-purple-100/90 backdrop-blur-md z-50 flex items-center justify-center p-4 pb-24",children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl shadow-2xl max-w-md w-full max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-purple-100 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-purple-400 rounded-xl flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"ğŸŒ™ Cuenta tu dÃ­a"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Cierre narrativo"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-purple-50 rounded-xl border border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Convertir tu dÃ­a en una historia te ayuda a procesar experiencias y consolidar recuerdos con significado emocional"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ… Â¿CÃ³mo comenzÃ³ tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),placeholder:"Ej: DespertÃ© sin energÃ­a, pero con ganas de avanzar...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:150})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["âš¡ Â¿QuÃ© fue lo mÃ¡s significativo hoy?",e.jsx("span",{className:"text-xs text-purple-600",children:"(requerido)"})]}),e.jsx("textarea",{value:l,onChange:g=>o(g.target.value),placeholder:"Ej: Una conversaciÃ³n me hizo reflexionar sobre...\\nLogrÃ© terminar algo que venÃ­a posponiendo...\\nMe di cuenta de que necesito...",className:"w-full p-3 rounded-xl border-2 border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm resize-none",rows:4,maxLength:300}),e.jsxs("p",{className:"text-xs text-gray-500",children:[l.length,"/300 caracteres"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:["ğŸŒ™ Â¿Con quÃ© sensaciÃ³n cierras tu dÃ­a?",e.jsx("span",{className:"text-xs text-gray-400",children:"(opcional)"})]}),e.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),placeholder:"Ej: Tranquilo, Agradecido, Cansado pero satisfecho...",className:"w-full p-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent text-sm",maxLength:100})]}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl border border-pink-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(re,{className:"w-4 h-4 text-pink-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"ğŸ’­ ReflexiÃ³n final (opcional)"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Â¿QuÃ© agradeces de hoy aunque haya sido difÃ­cil?",e.jsx("br",{}),"Â¿QuÃ© aprendiste que no sabÃ­as ayer?"]})]})]})})]})}),e.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-100 px-6 py-4 rounded-b-3xl shadow-lg",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{onClick:()=>r(),className:"px-6 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-semibold hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Saltar"}),e.jsx(n.button,{onClick:N,disabled:!b,className:`flex-1 py-3 rounded-xl font-semibold transition-all ${b?"bg-gradient-to-r from-indigo-400 to-purple-400 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:b?{scale:1.02}:{},whileTap:b?{scale:.98}:{},children:"Cerrar mi dÃ­a ğŸŒ™"})]})})]})})}function sa(){const{getActivityHistory:r,getTimeHistory:s}=C(),[t,i]=h.useState(!1),[a,l]=h.useState("activities"),[o,d]=h.useState(7),u=r(o),N=s(o),b=x=>{const m={};return x.forEach(w=>{m[w.date]||(m[w.date]=[]),m[w.date].push(w)}),m},g=b(u),c=b(N),j=x=>{const m=new Date(x),w=new Date().toISOString().split("T")[0],v=new Date(Date.now()-864e5).toISOString().split("T")[0];return x===w?"ğŸŒŸ Hoy":x===v?"ğŸ“… Ayer":m.toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric"})},p=x=>x.reduce((m,w)=>m+w.duration,0);return e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border-2 border-green-200 overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>i(!t),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-green-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-teal-400 rounded-xl flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ğŸ“Š Historial de Actividades"}),e.jsxs("p",{className:"text-sm text-green-600",children:[u.length," actividades registradas"]})]})]}),e.jsx(n.div,{animate:{rotate:t?180:0},transition:{duration:.3},children:e.jsx(Ee,{className:"w-6 h-6 text-green-500"})})]}),e.jsx(T,{children:t&&e.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t-2 border-green-100",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50/50 to-teal-50/50",children:[e.jsxs("div",{className:"mb-4 flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>d(7),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${o===7?"bg-green-500 text-white shadow-md":"bg-white text-gray-600 hover:bg-green-100"}`,children:"Ãšltima semana"}),e.jsx("button",{onClick:()=>d(30),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${o===30?"bg-green-500 text-white shadow-md":"bg-white text-gray-600 hover:bg-green-100"}`,children:"Ãšltimo mes"}),e.jsx("button",{onClick:()=>d(90),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${o===90?"bg-green-500 text-white shadow-md":"bg-white text-gray-600 hover:bg-green-100"}`,children:"3 meses"})]}),e.jsxs("div",{className:"mb-4 flex bg-white rounded-xl p-1 border-2 border-green-200",children:[e.jsx("button",{onClick:()=>l("activities"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${a==="activities"?"bg-gradient-to-r from-green-400 to-teal-400 text-white shadow-md":"text-gray-600"}`,children:"ğŸ“‹ Actividades Detalladas"}),e.jsx("button",{onClick:()=>l("time"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${a==="time"?"bg-gradient-to-r from-green-400 to-teal-400 text-white shadow-md":"text-gray-600"}`,children:"â±ï¸ Registro de Horas"})]}),a==="activities"?e.jsx("div",{className:"space-y-4",children:Object.keys(g).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(xe,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No hay actividades registradas"}),e.jsx("p",{className:"text-xs mt-1",children:"Comienza agregando actividades para ver tu historial"})]}):Object.keys(g).sort((x,m)=>new Date(m).getTime()-new Date(x).getTime()).map(x=>e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl border-2 border-green-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-teal-100 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-green-700"}),e.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:j(x)})]}),e.jsxs("span",{className:"text-xs font-semibold text-green-700",children:[g[x].length," actividades"]})]}),e.jsx("div",{className:"divide-y divide-green-100",children:g[x].map(m=>e.jsx("div",{className:"px-4 py-3 hover:bg-green-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(se,{type:m.activityIcon,size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:m.activityLabel}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:[Math.floor(m.duration/60),"h ",m.duration%60,"m"]})]}),m.notes&&e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["ğŸ’­ ",m.notes]}),m.facets&&Object.keys(m.facets).length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(m.facets).map(([w,v])=>e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-[10px] font-medium",children:typeof v=="boolean"?v?"âœ“":"âœ—":`${v}/5`},w))}),e.jsx("span",{className:"text-[10px] text-gray-400 mt-1 block",children:new Date(m.timestamp).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})]})},m.id))})]},x))}):e.jsx("div",{className:"space-y-4",children:Object.keys(c).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ke,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No hay registros de tiempo"}),e.jsx("p",{className:"text-xs mt-1",children:"Las horas trabajadas aparecerÃ¡n aquÃ­"})]}):Object.keys(c).sort((x,m)=>new Date(m).getTime()-new Date(x).getTime()).map(x=>e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl border-2 border-teal-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-100 to-cyan-100 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-teal-700"}),e.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:j(x)})]}),e.jsxs("span",{className:"text-sm font-bold text-teal-700",children:[Math.floor(p(c[x])/60),"h"," ",p(c[x])%60,"m"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-teal-50 text-xs text-gray-600",children:[e.jsx("th",{className:"text-left px-4 py-2 font-semibold",children:"Actividad"}),e.jsx("th",{className:"text-right px-4 py-2 font-semibold",children:"DuraciÃ³n"}),e.jsx("th",{className:"text-right px-4 py-2 font-semibold",children:"Hora"})]})}),e.jsx("tbody",{className:"divide-y divide-teal-100",children:c[x].map(m=>e.jsxs("tr",{className:"hover:bg-teal-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{type:m.activityIcon,size:20}),e.jsx("span",{className:"text-sm text-gray-800",children:m.activityLabel})]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("span",{className:"text-sm font-semibold text-teal-600",children:[Math.floor(m.duration/60),"h ",m.duration%60,"m"]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.timestamp).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})})]},m.id))})]})})]},x))})]})})})]})}const ra={apiKey:"AIzaSyCVIY7zq53TwD_GdNZqJvIKQr-yLsfSCjw",authDomain:"daylo-app-89843.firebaseapp.com",projectId:"daylo-app-89843",storageBucket:"daylo-app-89843.firebasestorage.app",messagingSenderId:"289095124470",appId:"1:289095124470:web:a6c73903a36d0dfb8ff3d7"},ia=xt(ra),q=pt(ia),K=()=>localStorage.getItem("daylo-user-email")||"anonymous",Me=async r=>{try{const s=J(q,"users",r),t=await $e(s);if(t.exists()){const i=t.data();return{name:i.name,email:i.email}}return null}catch(s){return console.error("âŒ Error verificando usuario:",s),null}},qe=async(r,s)=>{try{const t=J(q,"users",s);await He(t,{name:r,email:s,createdAt:te.now(),updatedAt:te.now()},{merge:!0}),console.log("âœ… Usuario guardado en Firebase:",s)}catch(t){throw console.error("âŒ Error guardando usuario:",t),t}},na=async r=>{try{const s=K(),t=new Date().toISOString().split("T")[0],i=`${s}_${t}`,a={...r,userEmail:s,date:r.date||new Date().toISOString(),updatedAt:te.now()};await He(J(q,"dailyEntries",i),a,{merge:!0}),console.log("âœ… Entrada guardada en Firebase:",i)}catch(s){throw console.error("âŒ Error guardando en Firebase:",s),s}},Le=async()=>{try{const r=K(),s=new Date().toISOString().split("T")[0],t=`${r}_${s}`,i=J(q,"dailyEntries",t),a=await $e(i);return a.exists()?a.data():null}catch(r){return console.error("âŒ Error obteniendo entrada de hoy:",r),null}},oa=async()=>{try{const r=K(),s=Te(q,"dailyEntries"),t=Ce(s,ee("userEmail","==",r),Ie("date","desc")),i=await Ae(t),a=[];return i.forEach(l=>{a.push(l.data())}),console.log(`âœ… ${a.length} entradas cargadas desde Firebase`),a}catch(r){return console.error("âŒ Error obteniendo entradas:",r),[]}},la=async(r=7)=>{try{const s=K(),t=new Date;t.setDate(t.getDate()-r);const i=Te(q,"dailyEntries"),a=Ce(i,ee("userEmail","==",s),ee("date",">=",t.toISOString()),Ie("date","desc")),l=await Ae(a),o=[];return l.forEach(d=>{o.push(d.data())}),o}catch(s){return console.error("âŒ Error obteniendo entradas recientes:",s),[]}},ca=Object.freeze(Object.defineProperty({__proto__:null,createOrUpdateUser:qe,getAllUserEntries:oa,getRecentEntries:la,getTodayEntry:Le,getUserByEmail:Me,saveDailyEntry:na},Symbol.toStringTag,{value:"Module"}));function da(){const r=new Date().getHours();return r>=5&&r<12?"morning":r>=12&&r<19?"afternoon":"evening"}function ma(){const{selectedActivities:r,totalMinutes:s,currentEntry:t,hasCompletedCheckIn:i,addActivity:a,removeActivity:l,updateActivityDuration:o,updateActivityFacets:d,setModalOpen:u,completeCheckIn:N,checkAndResetIfNewDay:b,autoSave:g}=C(),[c,j]=h.useState(null),[p,x]=h.useState({}),[m,w]=h.useState(0),[v,A]=h.useState(""),[O,L]=h.useState("synced"),[I]=h.useState(da()),[Y,le]=h.useState([]),[R,U]=h.useState(!1),[z,f]=h.useState(!1),[k,W]=h.useState(!1),[_,ce]=h.useState(!1),[B,de]=h.useState("purpose");h.useEffect(()=>{(async()=>{if(b()){console.log("âœ¨ Inicio de nuevo dÃ­a - datos reseteados");return}const $=new Date().toISOString().split("T")[0],D=JSON.parse(localStorage.getItem("daylo-entries")||"[]").find(H=>new Date(H.date).toISOString().split("T")[0]===$);if(D){if(console.log("ğŸ“¦ Cargando desde localStorage:",D),D.activities&&D.activities.length>0&&D.activities.forEach(H=>{a(H)}),D.tasks&&D.tasks.length>0){const{currentEntry:H}=C.getState();C.setState({currentEntry:{...H,tasks:D.tasks}}),console.log("âœ… Tareas cargadas:",D.tasks.length)}D.diaryNote&&C.getState().setDiaryNote(D.diaryNote),D.emotionalCheckIn&&C.getState().setEmotionalCheckIn(D.emotionalCheckIn),D.dayIntention&&C.getState().setDayIntention(D.dayIntention),D.dayStory&&C.getState().setDayStory(D.dayStory)}try{const H=await Le();H&&H.activities&&console.log("â˜ï¸ Firebase sincronizado")}catch{console.log("âš ï¸ Firebase no disponible, usando datos locales")}})();const S=new Date().toISOString().split("T")[0],E=localStorage.getItem("daylo-last-checkin");I==="morning"&&!i&&E!==S&&setTimeout(()=>{U(!0),u(!0)},1e3)},[]);const Re=y=>{const S=r.find(P=>P.icon===y.id),E=Wt(y.id);le(E),S?(j(y),x(S.facets||{}),w(S.duration),A(S.notes||"")):(j(y),x({}),w(y.defaultDuration),A("")),u(!0)},Ue=async()=>{if(!c||_)return;const y=r.find($=>$.icon===c.id),S=1440;let E=s;if(y?E=s-y.duration+m:E=s+m,console.log("ğŸ” ValidaciÃ³n 24h:",{totalActual:s,duracionAnterior:(y==null?void 0:y.duration)||0,duracionNueva:m,totalNuevo:E,excede:E>S}),E>S){W(!0);return}ce(!0),L("syncing");try{y?(o(y.id,m),d(y.id,p,v)):a({id:Date.now().toString(),icon:c.id,label:c.label,duration:m,color:c.color,facets:p,notes:v}),await new Promise($=>setTimeout($,100)),await g(),L("synced"),console.log("âœ… Actividad guardada en Firebase"),j(null),u(!1),x({}),A("")}catch($){console.error("âŒ Error guardando:",$),L("offline")}finally{ce(!1)}},Be=async()=>{if(!c)return;const y=r.find(S=>S.icon===c.id);y&&(l(y.id),await new Promise(S=>setTimeout(S,100)),await g(),console.log("âœ… Actividad eliminada y guardado en Firebase")),j(null),u(!1)},Ve=Y,me=I==="morning"?{title:"ğŸŒ… Â¡Buenos dÃ­as!",subtitle:"Comienza tu dÃ­a con intenciÃ³n"}:I==="afternoon"?{title:"â˜€ï¸ Â¿CÃ³mo va tu dÃ­a?",subtitle:"Registra lo que has vivido"}:{title:"ğŸŒ™ Reflexiona sobre tu dÃ­a",subtitle:"Un momento para cerrar el dÃ­a conscientemente"};return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"daylo-card text-center",children:[e.jsx(n.h2,{className:"text-2xl font-bold text-gray-800 mb-2",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:me.title}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center justify-center gap-2",children:[me.subtitle,O==="synced"&&e.jsxs("span",{className:"text-green-600 flex items-center gap-1 text-xs",children:[e.jsx(he,{size:14})," Sincronizado"]}),O==="syncing"&&e.jsxs(n.span,{className:"text-blue-600 flex items-center gap-1 text-xs",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:[e.jsx(he,{size:14})," Guardando..."]}),O==="offline"&&e.jsxs("span",{className:"text-orange-600 flex items-center gap-1 text-xs",children:[e.jsx(ot,{size:14})," Sin conexiÃ³n"]})]})]}),e.jsx(T,{children:R&&e.jsx(ta,{onComplete:()=>{U(!1),u(!1),N(),g()}})}),e.jsx(T,{children:z&&e.jsx(aa,{onComplete:()=>{f(!1),u(!1),g()}})}),e.jsx(T,{children:k&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:y=>y.stopPropagation(),className:"bg-white rounded-3xl p-6 shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(n.div,{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-red-100 rounded-full flex items-center justify-center",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:e.jsx(lt,{className:"w-10 h-10 text-orange-600",strokeWidth:2.5})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"â° Superaste las 24 horas"}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-2",children:(()=>{const y=r.find(E=>E.icon===(c==null?void 0:c.id)),S=y?s-y.duration+m:s+m;return e.jsxs(e.Fragment,{children:["EstÃ¡s intentando registrar ",e.jsxs("span",{className:"font-semibold text-orange-600",children:[Math.floor(S/60),"h ",S%60,"min"]})," en total."]})})()}),e.jsx("p",{className:"text-xs text-gray-500 text-center mb-6",children:"Un dÃ­a tiene solo 24 horas. Ajusta la duraciÃ³n de esta actividad o elimina otra para continuar."}),e.jsx(n.button,{onClick:()=>{W(!1)},className:"w-full py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"âœ“ Entendido, voy a ajustar"})]})})}),t.dayIntention&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Tu intenciÃ³n de hoy"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.dayIntention})]})]})}),I==="evening"&&r.length===0&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-5 border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’š"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:"No pasa nada si hoy no registraste actividades"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Los dÃ­as de descanso tambiÃ©n cuentan. Â¿QuÃ© SÃ hiciste hoy, aunque parezca pequeÃ±o?"})]})]})}),(()=>{var $;const y=new Date().getHours(),S=y>=20&&y<23,E=r.length>0,P=!(($=t.dayStory)!=null&&$.mostSignificant);return I==="evening"&&S&&E&&P?e.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 rounded-2xl p-5 border-2 border-indigo-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(n.span,{className:"text-3xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:"ğŸŒ™"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Â¿Tomas un momento para cerrar tu dÃ­a?"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Reflexionar antes de dormir te ayuda a procesar lo vivido y descansar mejor"}),e.jsx(n.button,{onClick:()=>{f(!0),u(!0)},className:"w-full py-3 bg-gradient-to-r from-indigo-400 to-purple-400 text-white rounded-xl font-semibold shadow-md hover:shadow-lg transition-all text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"âœ¨ SÃ­, cerrar mi dÃ­a ahora"})]})]})}):I==="evening"&&E&&P&&!S?e.jsx(n.button,{onClick:()=>{f(!0),u(!0)},className:"w-full py-4 bg-gradient-to-r from-indigo-400 to-purple-400 text-white rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"ğŸŒ™ Cerrar mi dÃ­a con reflexiÃ³n"}):null})(),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex border-b-2 border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[e.jsxs("button",{onClick:()=>de("purpose"),className:`flex-1 py-4 px-6 font-semibold transition-all relative ${B==="purpose"?"text-purple-700 bg-purple-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ct,{size:20}),e.jsx("span",{children:"PropÃ³sito"})]}),B==="purpose"&&e.jsx(n.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 to-pink-500",transition:{type:"spring",stiffness:500,damping:30}})]}),e.jsxs("button",{onClick:()=>de("activities"),className:`flex-1 py-4 px-6 font-semibold transition-all relative ${B==="activities"?"text-blue-700 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ke,{size:20}),e.jsx("span",{children:"Lo que hice hoy"}),r.length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:r.length})]}),B==="activities"&&e.jsx(n.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-teal-500",transition:{type:"spring",stiffness:500,damping:30}})]})]}),e.jsx(T,{mode:"wait",children:B==="purpose"?e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"p-6",children:e.jsx(Zt,{timeContext:I})},"purpose"):e.jsx(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"p-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[e.jsx(F,{size:20,className:"text-pastel-purple"}),"Â¿QuÃ© hiciste hoy?"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Bt.map((y,S)=>e.jsx(n.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:S*.05},children:e.jsx(Jt,{activity:y,isSelected:r.some(E=>E.icon===y.id),onToggle:()=>Re(y)})},y.id))}),r.length>0&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-semibold text-gray-600",children:[r.length," ",r.length===1?"actividad":"actividades"]}),e.jsxs("span",{className:`text-xl font-bold ${s>1440?"text-red-600":s>1200?"text-orange-600":"text-purple-600"}`,children:[Math.floor(s/60),"h ",s%60,"m"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n.div,{className:"w-8 h-8 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center",animate:{rotate:[0,360]},transition:{duration:60,repeat:1/0,ease:"linear"},children:e.jsx("span",{className:"text-sm",children:"â°"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Tiempo registrado"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[Math.floor(s/60),"h ",s%60,"min de tu dÃ­a"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Disponible"}),e.jsx("p",{className:`text-sm font-semibold ${s>1440?"text-red-600":"text-green-600"}`,children:s>1440?`-${Math.floor((s-1440)/60)}h ${(s-1440)%60}m`:`${Math.floor((1440-s)/60)}h ${(1440-s)%60}m`})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1 px-1",children:[e.jsx("span",{children:"ğŸŒ… 6am"}),e.jsx("span",{children:"â˜€ï¸ 12pm"}),e.jsx("span",{children:"ğŸŒ† 6pm"}),e.jsx("span",{children:"ğŸŒ™ 12am"})]}),e.jsx("div",{className:"relative w-full bg-gradient-to-r from-gray-100 via-gray-200 to-gray-100 rounded-full h-4 overflow-hidden shadow-inner",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${Math.min(s/1440*100,100)}%`},className:`h-full rounded-full relative ${s>1440?"bg-gradient-to-r from-red-400 via-orange-500 to-red-600":s>1200?"bg-gradient-to-r from-orange-300 via-yellow-400 to-orange-500":s>960?"bg-gradient-to-r from-yellow-300 via-green-400 to-green-500":"bg-gradient-to-r from-green-300 via-teal-400 to-blue-400"}`,transition:{duration:.8,ease:"easeOut"},children:e.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})}),e.jsxs("div",{className:"relative w-full h-1 mt-1",children:[e.jsx("div",{className:"absolute left-[66.66%] top-0 w-px h-full bg-yellow-300 opacity-50"}),e.jsx("div",{className:"absolute left-[83.33%] top-0 w-px h-full bg-orange-300 opacity-50"}),e.jsx("div",{className:"absolute left-[100%] top-0 w-px h-full bg-red-400"})]})]}),e.jsx(T,{children:s>1200&&e.jsx(n.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},className:`rounded-xl p-3 border-2 ${s>1440?"bg-gradient-to-r from-red-50 to-orange-50 border-red-200":"bg-gradient-to-r from-yellow-50 to-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n.span,{className:"text-xl",animate:{scale:s>1440?[1,1.2,1]:1,rotate:s>1440?[0,-10,10,0]:0},transition:{duration:.5,repeat:s>1440?1/0:0,repeatDelay:1},children:s>1440?"âš ï¸":"âš¡"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-xs font-semibold ${s>1440?"text-red-700":"text-orange-700"}`,children:s>1440?"Â¡Superaste las 24 horas!":"Te estÃ¡s acercando al lÃ­mite del dÃ­a"}),e.jsx("p",{className:`text-[11px] mt-0.5 ${s>1440?"text-red-600":"text-orange-600"}`,children:s>1440?"Revisa las duraciones de tus actividades antes de agregar mÃ¡s":`Quedan ${Math.floor((1440-s)/60)}h ${(1440-s)%60}m disponibles`})]})]})})})]})]})]})},"activities")})]}),e.jsx(sa,{}),e.jsx(Kt,{isOpen:!!c,onClose:()=>{j(null),u(!1)},color:(c==null?void 0:c.color)||"#C4E5FF",title:(c==null?void 0:c.label)||"",children:e.jsxs("div",{className:"space-y-6 px-6 py-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"â±ï¸ Â¿CuÃ¡nto tiempo dedicaste?"}),e.jsx(Gt,{label:"",value:m,onChange:w,color:(c==null?void 0:c.color)||"#C4E5FF",max:720})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ’­ CuÃ©ntanos mÃ¡s sobre esta actividad"}),e.jsx("div",{className:"space-y-4",children:Ve.map((y,S)=>e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:S*.1},children:y.type==="rating"?e.jsx(Yt,{emoji:y.emoji,label:y.label,value:p[y.id]||0,onChange:E=>x({...p,[y.id]:E}),color:(c==null?void 0:c.color)||"#C4E5FF"}):e.jsx(Xt,{emoji:y.emoji,label:y.label,value:p[y.id],onChange:E=>x({...p,[y.id]:E}),color:(c==null?void 0:c.color)||"#C4E5FF"})},y.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:"ğŸ“ Notas adicionales (opcional)"}),e.jsx("textarea",{value:v,onChange:y=>A(y.target.value),placeholder:"Algo especÃ­fico que quieras recordar...",className:"w-full px-4 py-3 rounded-2xl border-2 border-gray-200 focus:border-pastel-purple focus:outline-none resize-none",rows:3,maxLength:150}),e.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[v.length,"/150"]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-white via-white to-white/95 pt-6 pb-4 px-6 border-t-2 border-gray-200 shadow-2xl z-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto flex gap-3",children:[r.some(y=>y.icon===(c==null?void 0:c.id))&&e.jsx(n.button,{onClick:Be,disabled:_,className:"px-6 py-4 rounded-full font-bold text-base bg-red-100 text-red-600 hover:bg-red-200 transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:_?{}:{scale:1.05},whileTap:_?{}:{scale:.95},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:"Borrar"}),e.jsx(n.button,{onClick:Ue,disabled:_,className:"flex-1 py-5 rounded-full font-bold text-xl flex items-center justify-center gap-3 shadow-2xl border-2 border-white disabled:opacity-70 disabled:cursor-not-allowed relative overflow-hidden",style:{background:`linear-gradient(135deg, ${c==null?void 0:c.color}, ${c==null?void 0:c.color}DD)`,color:"#1F2937"},whileHover:_?{}:{scale:1.05,y:-2},whileTap:_?{}:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:_?e.jsxs(e.Fragment,{children:[e.jsx(n.div,{className:"w-6 h-6 border-3 border-gray-800 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),e.jsx("span",{children:"Guardando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-6 h-6"}),e.jsx("span",{children:r.some(y=>y.icon===(c==null?void 0:c.id))?"Actualizar":"Guardar"})]})})]})})]})}),e.jsx(ea,{timeContext:I})]})}function ua(){const r=C(t=>t.isModalOpen),s=[{path:"/hoy",icon:we,label:"Hoy"},{path:"/dashboard",icon:dt,label:"Dashboard"},{path:"/perfil",icon:De,label:"Perfil"}];return e.jsx(T,{children:!r&&e.jsx(n.nav,{initial:{y:100},animate:{y:0},exit:{y:100},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-lg bg-white/80 border-t border-white/50 shadow-lg",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsx("div",{className:"flex items-center justify-around py-3",children:s.map(t=>e.jsx(Je,{to:t.path,className:({isActive:i})=>`flex flex-col items-center gap-1 px-6 py-2 rounded-2xl transition-all ${i?"bg-gradient-to-r from-pastel-pink to-pastel-purple":"hover:bg-gray-100"}`,children:({isActive:i})=>e.jsxs(e.Fragment,{children:[e.jsx(n.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(t.icon,{size:24,strokeWidth:i?2.5:2,color:i?"#374151":"#9CA3AF"})}),e.jsx("span",{className:`text-xs font-semibold ${i?"text-gray-700":"text-gray-500"}`,children:t.label})]})},t.path))})})})})}function xa(){const[r,s]=h.useState(!1),[t,i]=h.useState(""),[a,l]=h.useState(""),[o,d]=h.useState(""),[u,N]=h.useState(!1),[b,g]=h.useState(""),c=()=>{window.confirm("Â¿Cerrar sesiÃ³n?")&&(localStorage.removeItem("daylo-user-name"),localStorage.removeItem("daylo-user-email"),localStorage.removeItem("daylo-entries"),localStorage.removeItem("daylo-last-checkin"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),localStorage.removeItem("daylo-store"),window.location.href="/hoy")};h.useEffect(()=>{const p=localStorage.getItem("daylo-user-name"),x=localStorage.getItem("daylo-user-email");p&&x?i(p):s(!0)},[]);const j=async()=>{if(!a.trim()||!o.trim()){g("Por favor completa todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){g("Por favor ingresa un correo vÃ¡lido");return}N(!0),g("");try{const x=await Me(o.trim());x?(localStorage.setItem("daylo-user-name",x.name),localStorage.setItem("daylo-user-email",x.email),i(x.name),s(!1),setTimeout(()=>{alert(`Â¡Bienvenido de vuelta, ${x.name}! ğŸ‰
Hemos cargado tus datos.`)},500)):(await qe(a.trim(),o.trim()),localStorage.setItem("daylo-user-name",a.trim()),localStorage.setItem("daylo-user-email",o.trim()),i(a.trim()),s(!1))}catch(x){console.error("Error al verificar usuario:",x),g("Error al conectar. Intenta nuevamente.")}finally{N(!1)}};return e.jsxs("div",{className:"min-h-screen pb-20",children:[e.jsx(n.header,{initial:{y:-100},animate:{y:0},className:"sticky top-0 z-50 backdrop-blur-lg bg-white/70 border-b border-white/50 shadow-sm",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n.div,{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-lg",whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:e.jsx("span",{className:"text-2xl",children:"âœ¨"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Daylo"}),t&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Hola, ",t,"! ğŸ‘‹"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n.div,{className:"text-sm text-gray-600 hidden sm:block",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:new Date().toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})}),t&&!r&&e.jsx(n.button,{onClick:c,className:"p-2 rounded-full hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors group",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Cerrar sesiÃ³n",children:e.jsx(mt,{className:"w-5 h-5"})})]})]})})}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:e.jsx(Ge,{})}),e.jsx(ua,{}),e.jsx(T,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx(n.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 relative",children:[e.jsx(n.div,{className:"absolute -top-10 left-1/2 transform -translate-x-1/2",animate:{y:[0,-10,0],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-pastel-pink to-pastel-purple flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-4xl",children:"âœ¨"})})}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Â¡Bienvenido a Daylo!"}),e.jsx("p",{className:"text-gray-600",children:"Tu diario personal en la nube"})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CÃ³mo te llamas?"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:a,onChange:p=>l(p.target.value),onKeyPress:p=>{var x;return p.key==="Enter"&&((x=document.getElementById("email-input"))==null?void 0:x.focus())},placeholder:"Tu nombre",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg",autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Â¿CuÃ¡l es tu correo?"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{id:"email-input",type:"email",value:o,onChange:p=>{d(p.target.value),g("")},onKeyPress:p=>p.key==="Enter"&&j(),placeholder:"tu@correo.com",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:border-pastel-purple focus:outline-none transition-colors text-lg"})]})]}),b&&e.jsx(n.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-600 text-sm text-center",children:b}),e.jsx(n.button,{onClick:j,disabled:!a.trim()||!o.trim()||u,className:"w-full py-4 rounded-2xl font-bold text-lg bg-gradient-to-r from-pastel-pink to-pastel-purple text-gray-800 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:a.trim()&&o.trim()&&!u?1.02:1},whileTap:{scale:a.trim()&&o.trim()&&!u?.98:1},children:u?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(n.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"â³"}),"Verificando..."]}):"âœ¨ Comenzar"})]}),e.jsx("p",{className:"mt-6 text-xs text-center text-gray-500",children:"Tus datos se guardan de forma segura en Firebase"})]})})]})}),"    "]})}const pa=h.lazy(()=>oe(()=>import("./Dashboard-B4qoG4d6.js"),__vite__mapDeps([0,1,2,3,4,5]))),ha=h.lazy(()=>oe(()=>import("./Profile-kC-UnHcZ.js"),__vite__mapDeps([6,1,2,3,5])));function ga(){return e.jsx(Ke,{children:e.jsx(Ye,{children:e.jsxs(V,{path:"/",element:e.jsx(xa,{}),children:[e.jsx(V,{index:!0,element:e.jsx(Xe,{to:"/hoy",replace:!0})}),e.jsx(V,{path:"hoy",element:e.jsx(ma,{})}),e.jsx(V,{path:"dashboard",element:e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(pa,{})})}),e.jsx(V,{path:"perfil",element:e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando..."})]})}),children:e.jsx(ha,{})})})]})})})}ae.createRoot(document.getElementById("root")).render(e.jsx(Ne.StrictMode,{children:e.jsx(ga,{})}));export{Q as f,oa as g};
